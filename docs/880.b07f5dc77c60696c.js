"use strict";(self.webpackChunkfloreriaTest=self.webpackChunkfloreriaTest||[]).push([[880],{3880:(Qe,q,_)=>{_.r(q),_.d(q,{DashboardModule:()=>$e});var u=_(6814),s=_(95),C=_(8589),e=_(4946);function N(i,d){if(1&i){const o=e.EpF();e.TgZ(0,"li",10),e.NdJ("click",function(){const r=e.CHM(o).$implicit,a=e.oxw(2);return e.KtG(a.navToOtherScreen(r.path))}),e._uU(1),e.qZA()}if(2&i){const o=d.$implicit;e.xp6(1),e.hij(" ",o.title," ")}}function w(i,d){if(1&i&&(e.TgZ(0,"li",6)(1,"div")(2,"li",7),e._uU(3),e.qZA(),e.TgZ(4,"ul",8),e.YNc(5,N,2,1,"li",9),e.qZA()()()),2&i){const o=d.$implicit,t=d.index;e.Q2q("data-bs-target","#flush-collapseOne",t,"")("aria-controls","flush-collapseOne",t,""),e.xp6(3),e.Oqu(o.title),e.xp6(1),e.s9C("id","flush-collapseOne"+t),e.xp6(1),e.Q6J("ngForOf",o.subCategories)}}let I=(()=>{var i;class d{constructor(t){this.router=t,this.categories=[{title:"Dashboard",subCategories:[]},{title:"Catalogos",subCategories:[{path:"usuarios",title:"Usuarios"},{path:"formas_de_pago",title:"Formas de pago"},{path:"proveedores",title:"Proveedores"}]},{title:"Contabilidad",subCategories:[{path:"ingresos",title:"Ingresos"},{path:"egresos",title:"Egresos"},{path:"saldos",title:"Saldos"}]},{title:"Pedido",subCategories:[{path:"pedidos",title:"Pedidos"},{path:"clientes",title:"Clientes"},{path:"historial-pedidos",title:"Historial de Pedidos"}]}]}closeSession(){localStorage.clear(),this.router.navigate(["./auth/login"])}navToOtherScreen(t){this.router.navigate(["/dashboard/"+t])}}return(i=d).\u0275fac=function(t){return new(t||i)(e.Y36(C.F0))},i.\u0275cmp=e.Xpm({type:i,selectors:[["dashboard-sidebar"]],decls:8,vars:1,consts:[[1,"title_cont","border-bottom"],[1,"title_sidebar"],[1,"sidebar_cont"],["id","dashboard_accordion",1,"list-group","list_cat_cont","accordion","accordion-flush"],["class","item_cat collapsed","data-bs-toggle","collapse","aria-expanded","false",4,"ngFor","ngForOf"],[1,"btn","btn-danger",3,"click"],["data-bs-toggle","collapse","aria-expanded","false",1,"item_cat","collapsed"],[1,"item_cat"],["data-bs-parent","#dashboard_accordion",1,"list-unstyled","accordion-collapse","collapse","bg-white","rounded","3","px-2",3,"id"],["class","subcat_item p-2",3,"click",4,"ngFor","ngForOf"],[1,"subcat_item","p-2",3,"click"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"p",1),e._uU(2,"MILL\xd3N DE ROSAS"),e.qZA()(),e.TgZ(3,"div",2)(4,"ul",3),e.YNc(5,w,6,5,"li",4),e.TgZ(6,"button",5),e.NdJ("click",function(){return n.closeSession()}),e._uU(7," Cerrar sesion "),e.qZA()()()),2&t&&(e.xp6(5),e.Q6J("ngForOf",n.categories))},dependencies:[u.sg],styles:[".title_sidebar[_ngcontent-%COMP%]{color:#fff;font-size:1rem;font-weight:800;text-align:center;letter-spacing:.05rem}.title_cont[_ngcontent-%COMP%]{padding:.2em}.list_cat_cont[_ngcontent-%COMP%]{list-style:none}.item_cat[_ngcontent-%COMP%]{color:#fffc;font-weight:200;padding:10px 0}.item_cat[_ngcontent-%COMP%]:hover{cursor:pointer}.sidebar_cont[_ngcontent-%COMP%]{padding:14px 0}.subcat_item[_ngcontent-%COMP%]{color:#000}.accordeon_cont[_ngcontent-%COMP%]{padding:10px 20px}"]}),d})(),E=(()=>{var i;class d{}return(i=d).\u0275fac=function(t){return new(t||i)},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-layout-page"]],decls:4,vars:0,consts:[[1,"dashboard_container_main"],[1,"sidebar_main_container"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e._UZ(1,"dashboard-sidebar",1),e.TgZ(2,"div"),e._UZ(3,"router-outlet"),e.qZA()())},dependencies:[C.lC,I],styles:[".dashboard_container_main[_ngcontent-%COMP%]{display:grid;grid-template-columns:max-content auto}@media only screen and (min-width: 1024px){.sidebar_main_container[_ngcontent-%COMP%]{grid-column:1/1;grid-row:1/3;background:#4e73df;padding:20px;min-height:100vh}}@media only screen and (min-width: 768px) and (max-width: 1024px){.sidebar_main_container[_ngcontent-%COMP%]{grid-column:1/1;grid-row:1/3;background:#4e73df;padding:20px;min-height:100vh}}"]}),d})(),k=(()=>{var i;class d{}return(i=d).\u0275fac=function(t){return new(t||i)},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-home-page"]],decls:3,vars:0,consts:[[1,"dash_cont"],[1,"title_dash"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"h2",1),e._uU(2,"Dashboard"),e.qZA()())},styles:[".dash_cont[_ngcontent-%COMP%]{padding:2em}"]}),d})();var l=_(5861),p=_(7484),g=_(9046);class y{getAllClients(){return(0,l.Z)(function*(){return(yield p.Z.get(`${g.T.baseUrl}cat_clientes?api_key=gkq7MTv7alzg5vlqNvVlpg2japI3B5dD`)).data})()}createClient(d){return(0,l.Z)(function*(){return(yield p.Z.post(`${g.T.baseUrl}cat_clientes?api_key=gkq7MTv7alzg5vlqNvVlpg2japI3B5dD&nombre=${d.nombre}&telefono=${d.telefono}&email=${d.email}&usuario_id=${d.usuario_id}`,{})).data})()}editClient(d){return(0,l.Z)(function*(){return(yield p.Z.put(`${g.T.baseUrl}cat_clientes/${d.id}?api_key=gkq7MTv7alzg5vlqNvVlpg2japI3B5dD&nombre=${d.nombre}&telefono=${d.telefono}&email=${d.email}&usuario_id=${d.usuario_id}`,{})).data})()}deleteClient(d){return(0,l.Z)(function*(){return(yield p.Z.delete(`${g.T.baseUrl}cat_clientes/${d}?api_key=gkq7MTv7alzg5vlqNvVlpg2japI3B5dD`)).data})()}}var j=_(3519),c=_.n(j),b=_(8645),m=function(){function i(d,o,t){this.el=d,this.vcr=o,this.renderer=t,this.dtOptions={}}return i.prototype.ngOnInit=function(){var d=this;this.dtTrigger?this.dtTrigger.subscribe(function(o){d.displayTable(o)}):this.displayTable(null)},i.prototype.ngOnDestroy=function(){this.dtTrigger&&this.dtTrigger.unsubscribe(),this.dt&&this.dt.destroy(!0)},i.prototype.displayTable=function(d){var o=this;d&&(this.dtOptions=d),this.dtInstance=new Promise(function(t,n){Promise.resolve(o.dtOptions).then(function(r){0===Object.keys(r).length&&0===$("tbody tr",o.el.nativeElement).length?n("Both the table and dtOptions cannot be empty"):setTimeout(function(){var f={rowCallback:function(T,Z,v){if(r.columns){var h=r.columns;o.applyNgPipeTransform(T,h),o.applyNgRefTemplate(T,h,Z)}r.rowCallback&&r.rowCallback(T,Z,v)}};f=Object.assign({},r,f),o.dt=$(o.el.nativeElement).DataTable(f),t(o.dt)})})})},i.prototype.applyNgPipeTransform=function(d,o){o.filter(function(n){return n.ngPipeInstance&&!n.ngTemplateRef}).forEach(function(n){var r=n.ngPipeInstance,a=n.ngPipeArgs||[],f=o.filter(function(h){return!1!==h.visible}).findIndex(function(h){return h.data===n.data}),T=d.childNodes.item(f),Z=$(T).text(),v=r.transform.apply(r,function(i,d,o){if(o||2===arguments.length)for(var r,t=0,n=d.length;t<n;t++)(r||!(t in d))&&(r||(r=Array.prototype.slice.call(d,0,t)),r[t]=d[t]);return i.concat(r||Array.prototype.slice.call(d))}([Z],a,!1));$(T).text(v)})},i.prototype.applyNgRefTemplate=function(d,o,t){var n=this;o.filter(function(a){return a.ngTemplateRef&&!a.ngPipeInstance}).forEach(function(a){var f,T=(f=a.ngTemplateRef).ref,Z=f.context,v=o.filter(function(M){return!1!==M.visible}).findIndex(function(M){return M.data===a.data}),h=d.childNodes.item(v);$(h).html("");var ke=Object.assign({},Z,Z?.userData,{adtData:t}),je=n.vcr.createEmbeddedView(T,ke);n.renderer.appendChild(h,je.rootNodes[0])})},i.\u0275fac=function(o){return new(o||i)(e.Y36(e.SBq),e.Y36(e.s_b),e.Y36(e.Qsj))},i.\u0275dir=e.lG2({type:i,selectors:[["","datatable",""]],inputs:{dtOptions:"dtOptions",dtTrigger:"dtTrigger"}}),i}(),F=function(){function i(){}return i.forRoot=function(){return{ngModule:i}},i.\u0275fac=function(o){return new(o||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[u.ez]}),i}();const S=["closeModal"];function D(i,d){if(1&i){const o=e.EpF();e.TgZ(0,"tr")(1,"th",32),e._uU(2),e.qZA(),e.TgZ(3,"td",33),e._uU(4),e.qZA(),e.TgZ(5,"td",33),e._uU(6),e.qZA(),e.TgZ(7,"td",33),e._uU(8),e.qZA(),e.TgZ(9,"td",33),e._uU(10),e.qZA(),e.TgZ(11,"td",34)(12,"button",35),e.NdJ("click",function(){const r=e.CHM(o).$implicit,a=e.oxw();return e.KtG(a.selectClient(r))}),e._uU(13," Editar "),e.qZA(),e.TgZ(14,"button",36),e.NdJ("click",function(){const r=e.CHM(o).$implicit,a=e.oxw();return e.KtG(a.idDelete=r.id)}),e._uU(15," Eliminar "),e.qZA()()()}if(2&i){const o=d.$implicit,t=d.index;e.xp6(2),e.Oqu(t+1),e.xp6(2),e.Oqu(o.nombre),e.xp6(2),e.Oqu(o.telefono),e.xp6(2),e.Oqu(o.email),e.xp6(2),e.Oqu(o.usuario.nombre)}}let H=(()=>{var i;class d{constructor(t){this.services=t,this.dtOptions={},this.dtTrigger=new b.x,this.infoNewClient={nombre:"",telefono:"",email:"",usuario_id:""},this.infoEditClient={nombre:"",telefono:"",email:"",usuario_id:"",id:""},this.idDelete=""}ngOnDestroy(){this.dtTrigger.unsubscribe()}ngOnInit(){let t=localStorage.getItem("USER");t=JSON.parse(t),t&&(this.dtOptions={pagingType:"full_numbers",language:{url:"//cdn.datatables.net/plug-ins/1.10.15/i18n/Spanish.json"}},this.infoNewClient.usuario_id=t.id,this.infoEditClient.usuario_id=t.id,this.getAllClients())}selectClient(t){this.infoEditClient={...this.infoEditClient,email:t.email,nombre:t.nombre,telefono:t.telefono,id:t.id.toString()}}getAllClients(){var t=this;return(0,l.Z)(function*(){try{let n=yield t.services.getAllClients();t.clients=n.data,t.dtTrigger.next(n.data)}catch{}})()}createClient(){var t=this;return(0,l.Z)(function*(){try{yield t.services.createClient(t.infoNewClient),t.infoNewClient={...t.infoNewClient,email:"",nombre:"",telefono:""},t.closeModal?.nativeElement.click(),location.reload()}catch(n){c().fire({icon:"error",title:"Oops...",text:n.response.data.notificacion.mensaje})}})()}editClient(){var t=this;return(0,l.Z)(function*(){try{yield t.services.editClient(t.infoEditClient),t.infoEditClient={...t.infoEditClient,email:"",nombre:"",telefono:"",id:""},t.closeModal?.nativeElement.click(),location.reload()}catch(n){return void c().fire({icon:"error",title:"Oops...",text:n.response.data.notificacion.mensaje})}})()}deleteClient(){var t=this;return(0,l.Z)(function*(){try{yield t.services.deleteClient(t.idDelete),t.closeModal?.nativeElement.click(),location.reload()}catch(n){c().fire({icon:"error",title:"Oops...",text:n.response.data.notificacion.mensaje})}})()}}return(i=d).\u0275fac=function(t){return new(t||i)(e.Y36(y))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-clients-page"]],viewQuery:function(t,n){if(1&t&&e.Gf(S,5),2&t){let r;e.iGM(r=e.CRH())&&(n.closeModal=r.first)}},decls:91,vars:9,consts:[[1,"py-5","px-2"],[1,"d-flex","justify-content-between","align-items-center","mb-5"],[1,"text-secondary"],["data-bs-toggle","modal","data-bs-target","#newClientModal",1,"btn","btn-outline-primary","btn_actions"],["datatable","",1,"table","border","table-striped","table-bordered","table_users",3,"dtOptions","dtTrigger"],[1,"border"],["scope","col",1,"field_content"],[4,"ngFor","ngForOf"],["id","newClientModal","tabindex","-1","aria-labelledby","newClientModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],["ngNativeValidate","",1,"modal-content",3,"submit"],[1,"modal-header"],["id","newClientModalLabel",1,"modal-title","fs-5"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"mb-4"],["name","nameNew","type","text","required","",1,"form-control",3,"ngModel","ngModelChange"],["name","telefonoNew","type","text","required","",1,"form-control",3,"ngModel","ngModelChange"],["name","emailNew","type","email","required","",1,"form-control",3,"ngModel","ngModelChange"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["closeModal",""],["type","submit",1,"btn","btn-primary"],["id","editClientModal","tabindex","-1","aria-labelledby","editClientModalLabel","aria-hidden","true",1,"modal","fade"],["id","editClientModalLabel",1,"modal-title","fs-5"],["name","nameEdit","type","text","required","",1,"form-control",3,"ngModel","ngModelChange"],["name","telefonoEdit","type","text","required","",1,"form-control",3,"ngModel","ngModelChange"],["name","emailEdit","type","email","required","",1,"form-control",3,"ngModel","ngModelChange"],["id","deleteClientModal","tabindex","-1","aria-labelledby","deleteClientModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-content"],["id","deleteClientModalLabel",1,"modal-title","fs-5"],["type","button","data-bs-dismiss","modal",1,"btn","btn-primary",3,"click"],["scope","row",1,"field_content"],[1,"field_content"],[1,""],["data-bs-toggle","modal","data-bs-target","#editClientModal",1,"btn","btn-outline-primary","btn_actions",3,"click"],["data-bs-toggle","modal","data-bs-target","#deleteClientModal",1,"btn","btn-outline-danger","btn_actions",3,"click"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h2",2),e._uU(3,"Clientes"),e.qZA(),e.TgZ(4,"button",3),e._uU(5," Nuevo "),e.qZA()(),e.TgZ(6,"table",4)(7,"thead")(8,"tr",5)(9,"th",6),e._uU(10,"#"),e.qZA(),e.TgZ(11,"th",6),e._uU(12,"Nombre"),e.qZA(),e.TgZ(13,"th",6),e._uU(14,"Telefono"),e.qZA(),e.TgZ(15,"th",6),e._uU(16,"Email"),e.qZA(),e.TgZ(17,"th",6),e._uU(18,"Usuario"),e.qZA(),e.TgZ(19,"th",6),e._uU(20,"Acciones"),e.qZA()()(),e.TgZ(21,"tbody"),e.YNc(22,D,16,5,"tr",7),e.qZA()()(),e.TgZ(23,"div",8)(24,"div",9)(25,"form",10),e.NdJ("submit",function(){return n.createClient()}),e.TgZ(26,"div",11)(27,"h1",12),e._uU(28,"Agregar Cliente"),e.qZA(),e._UZ(29,"button",13),e.qZA(),e.TgZ(30,"div",14)(31,"div",15)(32,"p",2),e._uU(33,"Nombre"),e.qZA(),e.TgZ(34,"input",16),e.NdJ("ngModelChange",function(a){return n.infoNewClient.nombre=a}),e.qZA()(),e.TgZ(35,"div",15)(36,"p",2),e._uU(37,"Telefono"),e.qZA(),e.TgZ(38,"input",17),e.NdJ("ngModelChange",function(a){return n.infoNewClient.telefono=a}),e.qZA()(),e.TgZ(39,"div",15)(40,"p",2),e._uU(41,"Email"),e.qZA(),e.TgZ(42,"input",18),e.NdJ("ngModelChange",function(a){return n.infoNewClient.email=a}),e.qZA()()(),e.TgZ(43,"div",19)(44,"button",20,21),e._uU(46,"Cerrar"),e.qZA(),e.TgZ(47,"button",22),e._uU(48,"Crear Cliente"),e.qZA()()()()(),e.TgZ(49,"div",23)(50,"div",9)(51,"form",10),e.NdJ("submit",function(){return n.editClient()}),e.TgZ(52,"div",11)(53,"h1",24),e._uU(54,"Editar Cliente"),e.qZA(),e._UZ(55,"button",13),e.qZA(),e.TgZ(56,"div",14)(57,"div",15)(58,"p",2),e._uU(59,"Nombre"),e.qZA(),e.TgZ(60,"input",25),e.NdJ("ngModelChange",function(a){return n.infoEditClient.nombre=a}),e.qZA()(),e.TgZ(61,"div",15)(62,"p",2),e._uU(63,"Telefono"),e.qZA(),e.TgZ(64,"input",26),e.NdJ("ngModelChange",function(a){return n.infoEditClient.telefono=a}),e.qZA()(),e.TgZ(65,"div",15)(66,"p",2),e._uU(67,"Email"),e.qZA(),e.TgZ(68,"input",27),e.NdJ("ngModelChange",function(a){return n.infoEditClient.email=a}),e.qZA()()(),e.TgZ(69,"div",19)(70,"button",20,21),e._uU(72,"Cerrar"),e.qZA(),e.TgZ(73,"button",22),e._uU(74,"Actualizar Cliente"),e.qZA()()()()(),e.TgZ(75,"div",28)(76,"div",9)(77,"div",29)(78,"div",11)(79,"h1",30),e._uU(80,"Eliminar Cliente"),e.qZA(),e._UZ(81,"button",13),e.qZA(),e.TgZ(82,"div",14)(83,"p"),e._uU(84,"Estas seguro de eliminar a este cliente?"),e.qZA()(),e.TgZ(85,"div",19)(86,"button",20,21),e._uU(88,"Cerrar"),e.qZA(),e.TgZ(89,"button",31),e.NdJ("click",function(){return n.deleteClient()}),e._uU(90,"Eliminar Cliente"),e.qZA()()()()()),2&t&&(e.xp6(6),e.Q6J("dtOptions",n.dtOptions)("dtTrigger",n.dtTrigger),e.xp6(16),e.Q6J("ngForOf",n.clients),e.xp6(12),e.Q6J("ngModel",n.infoNewClient.nombre),e.xp6(4),e.Q6J("ngModel",n.infoNewClient.telefono),e.xp6(4),e.Q6J("ngModel",n.infoNewClient.email),e.xp6(18),e.Q6J("ngModel",n.infoEditClient.nombre),e.xp6(4),e.Q6J("ngModel",n.infoEditClient.telefono),e.xp6(4),e.Q6J("ngModel",n.infoEditClient.email))},dependencies:[u.sg,s.Fj,s.JJ,s.JL,s.Q7,s.On,s.F,m],styles:[".count_search_cont[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.search_users_cont[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.table_users[_ngcontent-%COMP%]{border-radius:20px!important}.counter_inp[_ngcontent-%COMP%]{border-radius:8px;width:50px}.field_content[_ngcontent-%COMP%]{font-size:11px}.btn_actions[_ngcontent-%COMP%]{padding:1px 3px!important;font-size:11px;border-radius:3px}"]}),d})(),A=(()=>{var i;class d{getAllUsers(){return(0,l.Z)(function*(){return(yield p.Z.get(`${g.T.baseUrl}cat_usuarios?api_key=gkq7MTv7alzg5vlqNvVlpg2japI3B5dD`)).data})()}editUser(t){return(0,l.Z)(function*(){return(yield p.Z.put(`\n      ${g.T.baseUrl}cat_usuarios/${t.id}?nombre=${t.nombre}&email=${t.email}&password=${t.password}&api_key=gkq7MTv7alzg5vlqNvVlpg2japI3B5dD\n    `)).data})()}createUser(t){return(0,l.Z)(function*(){return(yield p.Z.post(`${g.T.baseUrl}cat_usuarios?nombre=${t.nombre}&email=${t.email}&password=${t.password}&api_token=${t.api_token}&api_key=gkq7MTv7alzg5vlqNvVlpg2japI3B5dD`,{})).data})()}deleteUser(t){return(0,l.Z)(function*(){return(yield p.Z.delete(`${g.T.baseUrl}cat_usuarios/${t}?api_key=gkq7MTv7alzg5vlqNvVlpg2japI3B5dD`)).data})()}}return(i=d).\u0275fac=function(t){return new(t||i)},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),d})();function z(i,d){if(1&i){const o=e.EpF();e.TgZ(0,"tr")(1,"th",35),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td",33)(8,"button",36),e.NdJ("click",function(){const r=e.CHM(o).$implicit,a=e.oxw();return e.KtG(a.selectUser(r))}),e._uU(9," Editar "),e.qZA(),e.TgZ(10,"button",37),e.NdJ("click",function(){const r=e.CHM(o).$implicit,a=e.oxw();return e.KtG(a.idToDelete=r.id)}),e._uU(11," Eliminar "),e.qZA()()()}if(2&i){const o=d.$implicit,t=d.index;e.xp6(2),e.Oqu(t+1),e.xp6(2),e.Oqu(o.nombre),e.xp6(2),e.Oqu(o.email)}}function L(i,d){1&i&&(e.TgZ(0,"p",38),e._uU(1,"No se encontraron usuarios"),e.qZA())}let G=(()=>{var i;class d{constructor(t){this.userService=t,this.allUsers=[],this.allUsersPag=[[]],this.userSelected={id:"",nombre:"",email:"",password:""},this.newUserInfo={api_token:"",nombre:"",email:"",password:""},this.idToDelete="",this.dtOptions={},this.dtTrigger=new b.x}ngOnInit(){let t=localStorage.getItem("USER");t=JSON.parse(t),t&&(this.getAllUsers(),this.getApiToken(),this.dtOptions={pagingType:"full_numbers",language:{url:"//cdn.datatables.net/plug-ins/1.10.15/i18n/Spanish.json"}})}ngOnDestroy(){this.dtTrigger.unsubscribe()}getApiToken(){let t=localStorage.getItem("USER");t=JSON.parse(t),t&&(this.newUserInfo.api_token=t.api_token)}getAllUsers(){var t=this;return(0,l.Z)(function*(){try{const n=yield t.userService.getAllUsers();t.allUsers=n.data,t.dtTrigger.next(n.data)}catch(n){console.error("error ->",n)}})()}selectUser(t){this.userSelected={id:t.id.toString(),email:t.email,nombre:t.nombre,password:""}}cleanUserSelected(){this.userSelected={id:"",email:"",nombre:"",password:""}}editUser(){var t=this;return(0,l.Z)(function*(){if(""!==t.userSelected.email.trim()&&""!==t.userSelected.nombre.trim()&&""!==t.userSelected.password.trim())try{if(!(yield t.userService.editUser(t.userSelected)))return void c().fire({icon:"error",title:"Oops...",text:"Something went wrong!"});location.reload()}catch{return void c().fire({icon:"error",title:"Oops...",text:"Something went wrong!"})}else c().fire({icon:"error",title:"Complete el formulario",text:"Alguno de los campos se encuentra vacia"})})()}createUser(){var t=this;return(0,l.Z)(function*(){if(""!==t.newUserInfo.email.trim()&&""!==t.newUserInfo.nombre.trim()&&""!==t.newUserInfo.password.trim())try{if(!(yield t.userService.createUser(t.newUserInfo)))return void c().fire({icon:"error",title:"Oops...",text:"Something went wrong!"});location.reload()}catch{return void c().fire({icon:"error",title:"Oops...",text:"Something went wrong!"})}else c().fire({icon:"error",title:"Complete el formulario",text:"Alguno de los campos se encuentra vacia"})})()}deleteUser(){var t=this;return(0,l.Z)(function*(){try{if(!(yield t.userService.deleteUser(t.idToDelete)))return void c().fire({icon:"error",title:"Oops...",text:"Something went wrong!"});location.reload()}catch{return void c().fire({icon:"error",title:"Oops...",text:"Something went wrong!"})}})()}}return(i=d).\u0275fac=function(t){return new(t||i)(e.Y36(A))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-users-page"]],decls:85,vars:10,consts:[[1,"p-5"],[1,"d-flex","justify-content-between","align-items-center","mb-5"],[1,"text-secondary"],["data-bs-toggle","modal","data-bs-target","#exampleModal",1,"btn","btn-outline-primary","fs-5"],["datatable","",1,"table","border","table-striped","table-bordered","table_users",3,"dtOptions","dtTrigger"],[1,"border"],["scope","col"],[4,"ngFor","ngForOf"],["class","text-center text-secondary py-2",4,"ngIf"],["id","exampleModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title","fs-5"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],["ngNativeValidate","",1,"modal-body",3,"submit"],[1,"mb-4"],["name","nombre",1,"form-control",3,"ngModel","ngModelChange"],["name","email",1,"form-control",3,"ngModel","ngModelChange"],["name","password",1,"form-control",3,"ngModel","ngModelChange"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["data-bs-dismiss","modal","type","button",1,"btn","btn-primary",3,"click"],["id","editModalUser","tabindex","-1","aria-labelledby","editModalUserLabel","aria-hidden","true",1,"modal","fade"],["id","editUserModalLabel",1,"modal-title","fs-5"],["required","","name","nameEdit","type","text",1,"form-control",3,"ngModel","ngModelChange"],["required","","name","emailEdit","type","email",1,"form-control",3,"ngModel","ngModelChange"],["required","","name","passEdit","type","password",1,"form-control",3,"ngModel","ngModelChange"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary",3,"click"],["data-bs-dismiss","modal",1,"btn","btn-primary",3,"click"],["id","deleteUserModal","tabindex","-1","aria-labelledby","deleteUserModalLabel","aria-hidden","true",1,"modal","fade"],["id","deleteUserModalLabel",1,"modal-title","fs-5"],[1,"modal-body"],[1,""],["data-bs-dismiss","modal",1,"btn","btn-outline-danger",3,"click"],["scope","row"],["data-bs-toggle","modal","data-bs-target","#editModalUser",1,"btn","btn-outline-primary",3,"click"],["data-bs-toggle","modal","data-bs-target","#deleteUserModal",1,"btn","btn-outline-danger",3,"click"],[1,"text-center","text-secondary","py-2"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h2",2),e._uU(3,"Usuarios"),e.qZA(),e.TgZ(4,"button",3),e._uU(5," Nuevo "),e.qZA()(),e.TgZ(6,"table",4)(7,"thead")(8,"tr",5)(9,"th",6),e._uU(10,"#"),e.qZA(),e.TgZ(11,"th",6),e._uU(12,"Nombre"),e.qZA(),e.TgZ(13,"th",6),e._uU(14,"Email"),e.qZA(),e.TgZ(15,"th",6),e._uU(16,"Acciones"),e.qZA()()(),e.TgZ(17,"tbody"),e.YNc(18,z,12,3,"tr",7),e.qZA()(),e.YNc(19,L,2,0,"p",8),e.qZA(),e.TgZ(20,"div",9)(21,"div",10)(22,"div",11)(23,"div",12)(24,"h1",13),e._uU(25,"Agregar Usuarios"),e.qZA(),e._UZ(26,"button",14),e.qZA(),e.TgZ(27,"form",15),e.NdJ("submit",function(){return n.createUser()}),e.TgZ(28,"div",16)(29,"p",2),e._uU(30,"Nombre"),e.qZA(),e.TgZ(31,"input",17),e.NdJ("ngModelChange",function(a){return n.newUserInfo.nombre=a}),e.qZA()(),e.TgZ(32,"div",16)(33,"p",2),e._uU(34,"Email"),e.qZA(),e.TgZ(35,"input",18),e.NdJ("ngModelChange",function(a){return n.newUserInfo.email=a}),e.qZA()(),e.TgZ(36,"div",16)(37,"p",2),e._uU(38,"Password"),e.qZA(),e.TgZ(39,"input",19),e.NdJ("ngModelChange",function(a){return n.newUserInfo.password=a}),e.qZA()()(),e.TgZ(40,"div",20)(41,"button",21),e._uU(42,"Cerrar"),e.qZA(),e.TgZ(43,"button",22),e.NdJ("click",function(){return n.createUser()}),e._uU(44,"Crear usuario"),e.qZA()()()()(),e.TgZ(45,"div",23)(46,"div",10)(47,"div",11)(48,"div",12)(49,"h1",24),e._uU(50,"Editar usuario"),e.qZA(),e._UZ(51,"button",14),e.qZA(),e.TgZ(52,"form",15),e.NdJ("submit",function(){return n.editUser()}),e.TgZ(53,"div",16)(54,"p",2),e._uU(55,"Nombre"),e.qZA(),e.TgZ(56,"input",25),e.NdJ("ngModelChange",function(a){return n.userSelected.nombre=a}),e.qZA()(),e.TgZ(57,"div",16)(58,"p",2),e._uU(59,"Email"),e.qZA(),e.TgZ(60,"input",26),e.NdJ("ngModelChange",function(a){return n.userSelected.email=a}),e.qZA()(),e.TgZ(61,"div",16)(62,"p",2),e._uU(63,"Contrase\xf1a"),e.qZA(),e.TgZ(64,"input",27),e.NdJ("ngModelChange",function(a){return n.userSelected.password=a}),e.qZA()()(),e.TgZ(65,"div",20)(66,"button",28),e.NdJ("click",function(){return n.cleanUserSelected()}),e._uU(67,"Cerrar"),e.qZA(),e.TgZ(68,"button",29),e.NdJ("click",function(){return n.editUser()}),e._uU(69,"Actualizar"),e.qZA()()()()(),e.TgZ(70,"div",30)(71,"div",10)(72,"div",11)(73,"div",12)(74,"h1",31),e._uU(75,"Eliminar usuario"),e.qZA(),e._UZ(76,"button",14),e.qZA(),e.TgZ(77,"div",32)(78,"p",33),e._uU(79,"Estas seguro de querer eliminar al usuario?"),e.qZA()(),e.TgZ(80,"div",20)(81,"button",28),e.NdJ("click",function(){return n.idToDelete=""}),e._uU(82,"Cerrar"),e.qZA(),e.TgZ(83,"button",34),e.NdJ("click",function(){return n.deleteUser()}),e._uU(84,"Eliminar"),e.qZA()()()()()),2&t&&(e.xp6(6),e.Q6J("dtOptions",n.dtOptions)("dtTrigger",n.dtTrigger),e.xp6(12),e.Q6J("ngForOf",n.allUsers),e.xp6(1),e.Q6J("ngIf",0===n.allUsers.length),e.xp6(12),e.Q6J("ngModel",n.newUserInfo.nombre),e.xp6(4),e.Q6J("ngModel",n.newUserInfo.email),e.xp6(4),e.Q6J("ngModel",n.newUserInfo.password),e.xp6(17),e.Q6J("ngModel",n.userSelected.nombre),e.xp6(4),e.Q6J("ngModel",n.userSelected.email),e.xp6(4),e.Q6J("ngModel",n.userSelected.password))},dependencies:[u.sg,u.O5,s.Fj,s.JJ,s.JL,s.Q7,s.On,s.F,m],styles:[".count_search_cont[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.search_users_cont[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.table_users[_ngcontent-%COMP%]{border-radius:20px!important}.counter_inp[_ngcontent-%COMP%]{border-radius:8px;width:50px}"]}),d})(),U=(()=>{var i;class d{getAllProviders(){return(0,l.Z)(function*(){return(yield p.Z.get(`${g.T.baseUrl}cat_proveedores?api_key=gkq7MTv7alzg5vlqNvVlpg2japI3B5dD`)).data})()}createProvider(t){return(0,l.Z)(function*(){return(yield p.Z.post(`${g.T.baseUrl}cat_proveedores?api_key=gkq7MTv7alzg5vlqNvVlpg2japI3B5dD&nombre=${t.nombre}&direccion=${t.direccion}&telefono=${t.telefono}&email=${t.email}&usuario_id=${t.usuario_id}`,{})).data})()}editProvider(t){return(0,l.Z)(function*(){return(yield p.Z.put(`${g.T.baseUrl}cat_proveedores/${t.id}?api_key=gkq7MTv7alzg5vlqNvVlpg2japI3B5dD&nombre=${t.nombre}&direccion=${t.direccion}&telefono=${t.telefono}&email=${t.email}&usuario_id=${t.usuario_id}`)).data})()}deleteProvider(t){return(0,l.Z)(function*(){return(yield p.Z.delete(`${g.T.baseUrl}cat_proveedores/${t}?api_key=gkq7MTv7alzg5vlqNvVlpg2japI3B5dD`)).data})()}}return(i=d).\u0275fac=function(t){return new(t||i)},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),d})();const B=["closeModal"];function V(i,d){if(1&i){const o=e.EpF();e.TgZ(0,"tr")(1,"th",31),e._uU(2),e.qZA(),e.TgZ(3,"td",32),e._uU(4),e.qZA(),e.TgZ(5,"td",32),e._uU(6),e.qZA(),e.TgZ(7,"td",32),e._uU(8),e.qZA(),e.TgZ(9,"td",32),e._uU(10),e.qZA(),e.TgZ(11,"td",32),e._uU(12),e.qZA(),e.TgZ(13,"td",33)(14,"button",34),e.NdJ("click",function(){const r=e.CHM(o).$implicit,a=e.oxw();return e.KtG(a.selectedProvider(r))}),e._uU(15," Editar "),e.qZA(),e.TgZ(16,"button",35),e.NdJ("click",function(){const r=e.CHM(o).$implicit,a=e.oxw();return e.KtG(a.idProviderToDelete=r.id)}),e._uU(17," Eliminar "),e.qZA()()()}if(2&i){const o=d.$implicit,t=d.index;e.xp6(2),e.Oqu(t+1),e.xp6(2),e.Oqu(o.nombre),e.xp6(2),e.Oqu(o.direccion),e.xp6(2),e.Oqu(o.telefono),e.xp6(2),e.Oqu(o.email),e.xp6(2),e.Oqu(o.usuario.nombre)}}function Y(i,d){1&i&&(e.TgZ(0,"p",36),e._uU(1,"No se encontraron proveedores"),e.qZA())}let R=(()=>{var i;class d{constructor(t){this.services=t,this.providers=[],this.idProviderSelected="",this.idProviderToDelete="",this.newProviderInfo={nombre:"",direccion:"",email:"",telefono:"",usuario_id:""},this.editProviderInfo={nombre:"",direccion:"",email:"",telefono:"",usuario_id:""},this.dtOptions={},this.dtTrigger=new b.x}ngOnDestroy(){this.dtTrigger.unsubscribe()}ngOnInit(){let t=localStorage.getItem("USER");t=JSON.parse(t),t&&(this.getAllProviders(),this.newProviderInfo.usuario_id=t.id,this.editProviderInfo.usuario_id=t.id,this.dtOptions={pagingType:"full_numbers",language:{url:"//cdn.datatables.net/plug-ins/1.10.15/i18n/Spanish.json"}})}getAllProviders(){var t=this;return(0,l.Z)(function*(){try{let n=yield t.services.getAllProviders();n&&(t.providers=n.data,t.dtTrigger.next(n.data))}catch{return void c().fire({icon:"error",title:"Ups...",text:"Algo salio mal, intentelo mas tarde"})}})()}selectedProvider(t){this.idProviderSelected=t.id,this.editProviderInfo.direccion=t.direccion,this.editProviderInfo.email=t.email,this.editProviderInfo.nombre=t.nombre,this.editProviderInfo.telefono=t.telefono}createProvider(){var t=this;return(0,l.Z)(function*(){try{(yield t.services.createProvider(t.newProviderInfo))&&(t.closeModal?.nativeElement.click(),location.reload())}catch{c().fire({icon:"error",title:"Ups...",text:"Algo salio mal, intentelo mas tarde"})}})()}editProvider(){var t=this;return(0,l.Z)(function*(){try{if(!(yield t.services.editProvider({...t.editProviderInfo,id:t.idProviderSelected})))return void c().fire({icon:"error",title:"Ups...",text:"Algo salio mal, intentelo mas tarde"});t.closeModal?.nativeElement.click(),location.reload()}catch{}})()}deleteProvider(){var t=this;return(0,l.Z)(function*(){try{if(!(yield t.services.deleteProvider(t.idProviderToDelete)))return void c().fire({icon:"error",title:"Ups...",text:"Algo salio mal, intentelo mas tarde"});location.reload()}catch{}})()}closeModalTest(){}}return(i=d).\u0275fac=function(t){return new(t||i)(e.Y36(U))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-providers-page"]],viewQuery:function(t,n){if(1&t&&e.Gf(B,5),2&t){let r;e.iGM(r=e.CRH())&&(n.closeModal=r.first)}},decls:101,vars:12,consts:[[1,"py-5","px-2"],[1,"d-flex","justify-content-between","align-items-center","mb-5"],[1,"text-secondary"],["data-bs-toggle","modal","data-bs-target","#newProviderModal",1,"btn","btn-outline-primary","fs-5"],["datatable","",1,"table","border","table-striped","table-bordered","table_users",3,"dtOptions","dtTrigger"],[1,"border"],["scope","col",1,"table_content_td"],[4,"ngFor","ngForOf"],["class","text-center text-secondary py-2",4,"ngIf"],["id","newProviderModal","tabindex","-1","aria-labelledby","newProviderModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],["ngNativeValidate","",1,"modal-content",3,"submit"],[1,"modal-header"],["id","newProviderModalLabel",1,"modal-title","fs-5"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"mb-4"],["name","name","type","text","required","",1,"form-control",3,"ngModel","ngModelChange"],["name","direccion","type","text","required","",1,"form-control",3,"ngModel","ngModelChange"],["name","telefono","required","",1,"form-control",3,"ngModel","ngModelChange"],["name","email","type","email","required","",1,"form-control",3,"ngModel","ngModelChange"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["closeModal",""],["type","submit",1,"btn","btn-primary"],["id","editProviderModal","tabindex","-1","aria-labelledby","editProviderModalLabel","aria-hidden","true",1,"modal","fade"],["id","editProviderModalLabel",1,"modal-title","fs-5"],["id","deleteProviderModal","tabindex","-1","aria-labelledby","deleteProviderModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-content"],["id","deleteProviderModalLabel",1,"modal-title","fs-5"],["type","button","data-bs-dismiss","modal",1,"btn","btn-primary",3,"click"],["scope","row",1,"table_content_td"],[1,"table_content_td"],[1,""],["data-bs-toggle","modal","data-bs-target","#editProviderModal",1,"btn","btn-outline-primary",3,"click"],["data-bs-toggle","modal","data-bs-target","#deleteProviderModal",1,"btn","btn-outline-danger",3,"click"],[1,"text-center","text-secondary","py-2"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h2",2),e._uU(3,"Proveedores"),e.qZA(),e.TgZ(4,"button",3),e._uU(5," Nuevo "),e.qZA()(),e.TgZ(6,"table",4)(7,"thead")(8,"tr",5)(9,"th",6),e._uU(10,"#"),e.qZA(),e.TgZ(11,"th",6),e._uU(12,"Nombre"),e.qZA(),e.TgZ(13,"th",6),e._uU(14,"Direccion"),e.qZA(),e.TgZ(15,"th",6),e._uU(16,"Telefono"),e.qZA(),e.TgZ(17,"th",6),e._uU(18,"Email"),e.qZA(),e.TgZ(19,"th",6),e._uU(20,"Usuario"),e.qZA(),e.TgZ(21,"th",6),e._uU(22,"Acciones"),e.qZA()()(),e.TgZ(23,"tbody"),e.YNc(24,V,18,6,"tr",7),e.qZA()(),e.YNc(25,Y,2,0,"p",8),e.qZA(),e.TgZ(26,"div",9)(27,"div",10)(28,"form",11),e.NdJ("submit",function(){return n.createProvider()}),e.TgZ(29,"div",12)(30,"h1",13),e._uU(31,"Agregar Proveedor"),e.qZA(),e._UZ(32,"button",14),e.qZA(),e.TgZ(33,"div",15)(34,"div",16)(35,"p",2),e._uU(36,"Nombre"),e.qZA(),e.TgZ(37,"input",17),e.NdJ("ngModelChange",function(a){return n.newProviderInfo.nombre=a}),e.qZA()(),e.TgZ(38,"div",16)(39,"p",2),e._uU(40,"Direccion"),e.qZA(),e.TgZ(41,"input",18),e.NdJ("ngModelChange",function(a){return n.newProviderInfo.direccion=a}),e.qZA()(),e.TgZ(42,"div",16)(43,"p",2),e._uU(44,"Telefono"),e.qZA(),e.TgZ(45,"input",19),e.NdJ("ngModelChange",function(a){return n.newProviderInfo.telefono=a}),e.qZA()(),e.TgZ(46,"div",16)(47,"p",2),e._uU(48,"Email"),e.qZA(),e.TgZ(49,"input",20),e.NdJ("ngModelChange",function(a){return n.newProviderInfo.email=a}),e.qZA()()(),e.TgZ(50,"div",21)(51,"button",22,23),e._uU(53,"Cerrar"),e.qZA(),e.TgZ(54,"button",24),e._uU(55,"Crear Proveedor"),e.qZA()()()()(),e.TgZ(56,"div",25)(57,"div",10)(58,"form",11),e.NdJ("submit",function(){return n.editProvider()}),e.TgZ(59,"div",12)(60,"h1",26),e._uU(61,"Editar Proveedor"),e.qZA(),e._UZ(62,"button",14),e.qZA(),e.TgZ(63,"div",15)(64,"div",16)(65,"p",2),e._uU(66,"Nombre"),e.qZA(),e.TgZ(67,"input",17),e.NdJ("ngModelChange",function(a){return n.editProviderInfo.nombre=a}),e.qZA()(),e.TgZ(68,"div",16)(69,"p",2),e._uU(70,"Direccion"),e.qZA(),e.TgZ(71,"input",18),e.NdJ("ngModelChange",function(a){return n.editProviderInfo.direccion=a}),e.qZA()(),e.TgZ(72,"div",16)(73,"p",2),e._uU(74,"Telefono"),e.qZA(),e.TgZ(75,"input",19),e.NdJ("ngModelChange",function(a){return n.editProviderInfo.telefono=a}),e.qZA()(),e.TgZ(76,"div",16)(77,"p",2),e._uU(78,"Email"),e.qZA(),e.TgZ(79,"input",20),e.NdJ("ngModelChange",function(a){return n.editProviderInfo.email=a}),e.qZA()()(),e.TgZ(80,"div",21)(81,"button",22,23),e._uU(83,"Cerrar"),e.qZA(),e.TgZ(84,"button",24),e._uU(85,"Editar Proveedor"),e.qZA()()()()(),e.TgZ(86,"div",27)(87,"div",10)(88,"div",28)(89,"div",12)(90,"h1",29),e._uU(91,"Editar Proveedor"),e.qZA(),e._UZ(92,"button",14),e.qZA(),e.TgZ(93,"div",15)(94,"p"),e._uU(95,"Estas seguro de eliminar a este provedor?"),e.qZA()(),e.TgZ(96,"div",21)(97,"button",22),e._uU(98,"Cerrar"),e.qZA(),e.TgZ(99,"button",30),e.NdJ("click",function(){return n.deleteProvider()}),e._uU(100,"Eliminar Proveedor"),e.qZA()()()()()),2&t&&(e.xp6(6),e.Q6J("dtOptions",n.dtOptions)("dtTrigger",n.dtTrigger),e.xp6(18),e.Q6J("ngForOf",n.providers),e.xp6(1),e.Q6J("ngIf",0===n.providers.length),e.xp6(12),e.Q6J("ngModel",n.newProviderInfo.nombre),e.xp6(4),e.Q6J("ngModel",n.newProviderInfo.direccion),e.xp6(4),e.Q6J("ngModel",n.newProviderInfo.telefono),e.xp6(4),e.Q6J("ngModel",n.newProviderInfo.email),e.xp6(18),e.Q6J("ngModel",n.editProviderInfo.nombre),e.xp6(4),e.Q6J("ngModel",n.editProviderInfo.direccion),e.xp6(4),e.Q6J("ngModel",n.editProviderInfo.telefono),e.xp6(4),e.Q6J("ngModel",n.editProviderInfo.email))},dependencies:[u.sg,u.O5,s.Fj,s.JJ,s.JL,s.Q7,s.On,s.F,m],styles:[".table_content_td[_ngcontent-%COMP%]{font-size:11px}.counter_inp[_ngcontent-%COMP%]{width:40px;border-radius:5px}"]}),d})(),K=(()=>{var i;class d{getAllPaymenthMethods(){return(0,l.Z)(function*(){return(yield p.Z.get(`${g.T.baseUrl}cat_forma_de_pago?api_key=gkq7MTv7alzg5vlqNvVlpg2japI3B5dD`)).data})()}createPaymenthMethod(t){return(0,l.Z)(function*(){return(yield p.Z.post(`${g.T.baseUrl}cat_forma_de_pago?api_key=gkq7MTv7alzg5vlqNvVlpg2japI3B5dD&nombre=${t.nombre}&tipo=${t.tipo}&nombre_titular_banco=${t.nombre_titular_banco}&banco=${t.banco}&cuenta=${t.cuenta}&clabe=${t.clabe}&tarjeta=${t.tarjeta}&usuario_id=${t.usuario_id}`,{})).data})()}editPaymenthMethod(t){return(0,l.Z)(function*(){return(yield p.Z.put(`${g.T.baseUrl}cat_forma_de_pago/${t.id}?api_key=gkq7MTv7alzg5vlqNvVlpg2japI3B5dD&nombre=${t.nombre}&tipo=${t.tipo}&nombre_titular_banco=${t.nombre_titular_banco}&banco=${t.banco}&cuenta=${t.cuenta}&clabe=${t.clabe}&tarjeta=${t.tarjeta}&usuario_id=${t.usuario_id}`)).data})()}deletePaymenthMethod(t){return(0,l.Z)(function*(){return(yield p.Z.delete(`${g.T.baseUrl}cat_forma_de_pago/${t}?api_key=gkq7MTv7alzg5vlqNvVlpg2japI3B5dD`)).data})()}}return(i=d).\u0275fac=function(t){return new(t||i)},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),d})();function X(i,d){if(1&i){const o=e.EpF();e.TgZ(0,"tr")(1,"th",32),e._uU(2),e.qZA(),e.TgZ(3,"td",33),e._uU(4),e.qZA(),e.TgZ(5,"td",33),e._uU(6),e.qZA(),e.TgZ(7,"td",33),e._uU(8),e.qZA(),e.TgZ(9,"td",33),e._uU(10),e.qZA(),e.TgZ(11,"td",33),e._uU(12),e.qZA(),e.TgZ(13,"td",33),e._uU(14),e.qZA(),e.TgZ(15,"td",33),e._uU(16),e.qZA(),e.TgZ(17,"td",34)(18,"button",35),e.NdJ("click",function(){const r=e.CHM(o).$implicit,a=e.oxw();return e.KtG(a.selectMethod(r))}),e._uU(19," Editar "),e.qZA(),e.TgZ(20,"button",36),e.NdJ("click",function(){const r=e.CHM(o).$implicit,a=e.oxw();return e.KtG(a.idDelete=r.id)}),e._uU(21," Eliminar "),e.qZA()()()}if(2&i){const o=d.$implicit,t=d.index;e.xp6(2),e.Oqu(t+1),e.xp6(2),e.Oqu(o.nombre),e.xp6(2),e.Oqu(o.tipo),e.xp6(2),e.Oqu(o.nombre_titular_banco),e.xp6(2),e.Oqu(o.cuenta),e.xp6(2),e.Oqu(o.clabe),e.xp6(2),e.Oqu(o.tarjeta),e.xp6(2),e.Oqu(o.usuario.nombre)}}function W(i,d){1&i&&(e.TgZ(0,"p",37),e._uU(1,"No se encontraron metodos de pago"),e.qZA())}function ee(i,d){if(1&i){const o=e.EpF();e.TgZ(0,"div")(1,"div",16)(2,"p",2),e._uU(3,"Nombre Titular Banco"),e.qZA(),e.TgZ(4,"input",38),e.NdJ("ngModelChange",function(n){e.CHM(o);const r=e.oxw();return e.KtG(r.infoNewMethod.nombre_titular_banco=n)}),e.qZA()(),e.TgZ(5,"div",16)(6,"p",2),e._uU(7,"Banco"),e.qZA(),e.TgZ(8,"input",39),e.NdJ("ngModelChange",function(n){e.CHM(o);const r=e.oxw();return e.KtG(r.infoNewMethod.banco=n)}),e.qZA()(),e.TgZ(9,"div",16)(10,"p",2),e._uU(11,"Cuenta"),e.qZA(),e.TgZ(12,"input",39),e.NdJ("ngModelChange",function(n){e.CHM(o);const r=e.oxw();return e.KtG(r.infoNewMethod.cuenta=n)}),e.qZA()(),e.TgZ(13,"div",16)(14,"p",2),e._uU(15,"Clabe"),e.qZA(),e.TgZ(16,"input",39),e.NdJ("ngModelChange",function(n){e.CHM(o);const r=e.oxw();return e.KtG(r.infoNewMethod.clabe=n)}),e.qZA()(),e.TgZ(17,"div",16)(18,"p",2),e._uU(19,"Tarjeta"),e.qZA(),e.TgZ(20,"input",39),e.NdJ("ngModelChange",function(n){e.CHM(o);const r=e.oxw();return e.KtG(r.infoNewMethod.tarjeta=n)}),e.qZA()()()}if(2&i){const o=e.oxw();e.xp6(4),e.Q6J("ngModel",o.infoNewMethod.nombre_titular_banco)("required","1"===o.typeMethod),e.xp6(4),e.Q6J("ngModel",o.infoNewMethod.banco),e.xp6(4),e.Q6J("ngModel",o.infoNewMethod.cuenta),e.xp6(4),e.Q6J("ngModel",o.infoNewMethod.clabe),e.xp6(4),e.Q6J("ngModel",o.infoNewMethod.tarjeta)}}function te(i,d){if(1&i){const o=e.EpF();e.TgZ(0,"div")(1,"div",16)(2,"p",2),e._uU(3,"Nombre Titular Banco"),e.qZA(),e.TgZ(4,"input",40),e.NdJ("ngModelChange",function(n){e.CHM(o);const r=e.oxw();return e.KtG(r.infoEditMethod.nombre_titular_banco=n)}),e.qZA()(),e.TgZ(5,"div",16)(6,"p",2),e._uU(7,"Banco"),e.qZA(),e.TgZ(8,"input",41),e.NdJ("ngModelChange",function(n){e.CHM(o);const r=e.oxw();return e.KtG(r.infoEditMethod.banco=n)}),e.qZA()(),e.TgZ(9,"div",16)(10,"p",2),e._uU(11,"Cuenta"),e.qZA(),e.TgZ(12,"input",42),e.NdJ("ngModelChange",function(n){e.CHM(o);const r=e.oxw();return e.KtG(r.infoEditMethod.cuenta=n)}),e.qZA()(),e.TgZ(13,"div",16)(14,"p",2),e._uU(15,"Clabe"),e.qZA(),e.TgZ(16,"input",43),e.NdJ("ngModelChange",function(n){e.CHM(o);const r=e.oxw();return e.KtG(r.infoEditMethod.clabe=n)}),e.qZA()(),e.TgZ(17,"div",16)(18,"p",2),e._uU(19,"Tarjeta"),e.qZA(),e.TgZ(20,"input",44),e.NdJ("ngModelChange",function(n){e.CHM(o);const r=e.oxw();return e.KtG(r.infoEditMethod.tarjeta=n)}),e.qZA()()()}if(2&i){const o=e.oxw();e.xp6(4),e.Q6J("ngModel",o.infoEditMethod.nombre_titular_banco)("required","1"===o.typeMethod),e.xp6(4),e.Q6J("ngModel",o.infoEditMethod.banco),e.xp6(4),e.Q6J("ngModel",o.infoEditMethod.cuenta),e.xp6(4),e.Q6J("ngModel",o.infoEditMethod.clabe),e.xp6(4),e.Q6J("ngModel",o.infoEditMethod.tarjeta)}}let ne=(()=>{var i;class d{constructor(t){this.services=t,this.paymenthMethods=[],this.typeMethod="0",this.idDelete="",this.infoNewMethod={nombre:"",tipo:"",nombre_titular_banco:"",banco:"",cuenta:"",clabe:"",tarjeta:"",usuario_id:""},this.infoEditMethod={nombre:"",tipo:"",nombre_titular_banco:"",banco:"",cuenta:"",clabe:"",tarjeta:"",usuario_id:"",id:""},this.dtOptions={},this.dtTrigger=new b.x}ngOnInit(){this.getAllPaymenthsMethods();let t=localStorage.getItem("USER");t=JSON.parse(t),t&&(this.user=t,this.infoNewMethod.usuario_id=t.id,this.infoEditMethod.usuario_id=t.id,this.dtOptions={pagingType:"full_numbers",language:{url:"//cdn.datatables.net/plug-ins/1.10.15/i18n/Spanish.json"}})}ngOnDestroy(){this.dtTrigger.unsubscribe()}selectMethod(t){this.infoEditMethod={...this.infoEditMethod,nombre:t.nombre,tipo:t.tipo.toString(),nombre_titular_banco:t.nombre_titular_banco,banco:t.banco,cuenta:t.cuenta,clabe:t.clabe,tarjeta:t.tarjeta,id:t.id},this.typeMethod=t.tipo}getAllPaymenthsMethods(){var t=this;return(0,l.Z)(function*(){try{let n=yield t.services.getAllPaymenthMethods();t.paymenthMethods=n.data,t.dtTrigger.next(n.data)}catch(n){return void c().fire({icon:"error",title:"Ups...",text:n.response.data.notificacion.mensaje})}})()}createMethod(){var t=this;return(0,l.Z)(function*(){t.infoNewMethod.tipo=t.typeMethod;try{yield t.services.createPaymenthMethod(t.infoNewMethod),location.reload()}catch{}})()}editMethod(){var t=this;return(0,l.Z)(function*(){t.infoEditMethod.tipo=t.typeMethod,"1"!=t.typeMethod&&(t.infoEditMethod.nombre_titular_banco="",t.infoEditMethod.banco="",t.infoEditMethod.cuenta="",t.infoEditMethod.clabe="",t.infoEditMethod.tarjeta="");try{yield t.services.editPaymenthMethod(t.infoEditMethod),location.reload()}catch{}})()}deleteMethod(){var t=this;return(0,l.Z)(function*(){try{yield t.services.deletePaymenthMethod(t.idDelete),location.reload()}catch{}})()}}return(i=d).\u0275fac=function(t){return new(t||i)(e.Y36(K))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-paymenthmethods-page"]],decls:95,vars:12,consts:[[1,"py-5","px-2"],[1,"d-flex","justify-content-between","align-items-center","mb-5"],[1,"text-secondary"],["data-bs-toggle","modal","data-bs-target","#newPayMethod",1,"btn","btn-outline-primary","fs-5"],["datatable","",1,"table","border","table-striped","table-bordered","table_users",3,"dtOptions","dtTrigger"],[1,"border"],["scope","col",1,"table_content_td"],[4,"ngFor","ngForOf"],["class","text-center text-secondary py-2",4,"ngIf"],["id","newPayMethod","tabindex","-1","aria-labelledby","newPayMethodLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],["ngNativeValidate","",1,"modal-content",3,"submit"],[1,"modal-header"],["id","newPayMethodLabel",1,"modal-title","fs-5"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"mb-2"],["name","name","type","text","required","",1,"form-control",3,"ngModel","ngModelChange"],["name","typeMethodSelect",1,"form-control",3,"ngModel","value","ngModelChange"],["value","0"],["value","1"],[4,"ngIf"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["closeModal",""],["data-bs-dismiss","modal","type","submit",1,"btn","btn-primary"],["id","editProviderModal","tabindex","-1","aria-labelledby","editProviderModalLabel","aria-hidden","true",1,"modal","fade"],["id","editProviderModalLabel",1,"modal-title","fs-5"],["id","deletePayMethod","tabindex","-1","aria-labelledby","deletePayMethodLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-content"],["id","deletePayMethodLabel",1,"modal-title","fs-5"],["type","button","data-bs-dismiss","modal",1,"btn","btn-primary",3,"click"],["scope","row",1,"table_content_td"],[1,"table_content_td"],[1,"actions_container"],["data-bs-toggle","modal","data-bs-target","#editProviderModal",1,"btn","btn-outline-primary",3,"click"],["data-bs-toggle","modal","data-bs-target","#deletePayMethod",1,"btn","btn-outline-danger",3,"click"],[1,"text-center","text-secondary","py-2"],["name","direccion","type","text",1,"form-control",3,"ngModel","required","ngModelChange"],["name","direccion","type","text",1,"form-control",3,"ngModel","ngModelChange"],["name","nombre_titular_banco_edit","type","text",1,"form-control",3,"ngModel","required","ngModelChange"],["name","banco_edit","type","text",1,"form-control",3,"ngModel","ngModelChange"],["name","cuenta_edit","type","text",1,"form-control",3,"ngModel","ngModelChange"],["name","clabe_edit","type","text",1,"form-control",3,"ngModel","ngModelChange"],["name","clabe_tarjeta","type","text",1,"form-control",3,"ngModel","ngModelChange"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h2",2),e._uU(3,"Formas de pago"),e.qZA(),e.TgZ(4,"button",3),e._uU(5," Nuevo "),e.qZA()(),e.TgZ(6,"table",4)(7,"thead")(8,"tr",5)(9,"th",6),e._uU(10,"#"),e.qZA(),e.TgZ(11,"th",6),e._uU(12,"Nombre"),e.qZA(),e.TgZ(13,"th",6),e._uU(14,"Tipo"),e.qZA(),e.TgZ(15,"th",6),e._uU(16,"Nombre Titular Banco"),e.qZA(),e.TgZ(17,"th",6),e._uU(18,"Cuenta"),e.qZA(),e.TgZ(19,"th",6),e._uU(20,"Clabe"),e.qZA(),e.TgZ(21,"th",6),e._uU(22,"Tarjeta"),e.qZA(),e.TgZ(23,"th",6),e._uU(24,"Usuario"),e.qZA(),e.TgZ(25,"th",6),e._uU(26,"Acciones"),e.qZA()()(),e.TgZ(27,"tbody"),e.YNc(28,X,22,8,"tr",7),e.qZA()(),e.YNc(29,W,2,0,"p",8),e.qZA(),e.TgZ(30,"div",9)(31,"div",10)(32,"form",11),e.NdJ("submit",function(){return n.createMethod()}),e.TgZ(33,"div",12)(34,"h1",13),e._uU(35,"Agregar Metodo de Pago"),e.qZA(),e._UZ(36,"button",14),e.qZA(),e.TgZ(37,"div",15)(38,"div",16)(39,"p",2),e._uU(40,"Nombre"),e.qZA(),e.TgZ(41,"input",17),e.NdJ("ngModelChange",function(a){return n.infoNewMethod.nombre=a}),e.qZA()(),e.TgZ(42,"div",16)(43,"select",18),e.NdJ("ngModelChange",function(a){return n.typeMethod=a}),e.TgZ(44,"option",19),e._uU(45,"Efectivo"),e.qZA(),e.TgZ(46,"option",20),e._uU(47,"Banco"),e.qZA()()(),e.YNc(48,ee,21,6,"div",21),e.qZA(),e.TgZ(49,"div",22)(50,"button",23,24),e._uU(52,"Cerrar"),e.qZA(),e.TgZ(53,"button",25),e._uU(54,"Crear Metodo de Pago"),e.qZA()()()()(),e.TgZ(55,"div",26)(56,"div",10)(57,"form",11),e.NdJ("submit",function(){return n.editMethod()}),e.TgZ(58,"div",12)(59,"h1",27),e._uU(60,"Editar Metodo de pago"),e.qZA(),e._UZ(61,"button",14),e.qZA(),e.TgZ(62,"div",15)(63,"div",16)(64,"p",2),e._uU(65,"Nombre"),e.qZA(),e.TgZ(66,"input",17),e.NdJ("ngModelChange",function(a){return n.infoEditMethod.nombre=a}),e.qZA()(),e.TgZ(67,"div",16)(68,"select",18),e.NdJ("ngModelChange",function(a){return n.typeMethod=a}),e.TgZ(69,"option",19),e._uU(70,"Efectivo"),e.qZA(),e.TgZ(71,"option",20),e._uU(72,"Banco"),e.qZA()()(),e.YNc(73,te,21,6,"div",21),e.qZA(),e.TgZ(74,"div",22)(75,"button",23,24),e._uU(77,"Cerrar"),e.qZA(),e.TgZ(78,"button",25),e._uU(79,"Editar Metodo de pago"),e.qZA()()()()(),e.TgZ(80,"div",28)(81,"div",10)(82,"div",29)(83,"div",12)(84,"h1",30),e._uU(85,"Eliminar Metodo de pago"),e.qZA(),e._UZ(86,"button",14),e.qZA(),e.TgZ(87,"div",15)(88,"p"),e._uU(89,"Estas seguro de eliminar este metodo de pago?"),e.qZA()(),e.TgZ(90,"div",22)(91,"button",23),e._uU(92,"Cerrar"),e.qZA(),e.TgZ(93,"button",31),e.NdJ("click",function(){return n.deleteMethod()}),e._uU(94,"Eliminar Metodo de pago"),e.qZA()()()()()),2&t&&(e.xp6(6),e.Q6J("dtOptions",n.dtOptions)("dtTrigger",n.dtTrigger),e.xp6(22),e.Q6J("ngForOf",n.paymenthMethods),e.xp6(1),e.Q6J("ngIf",0===n.paymenthMethods.length),e.xp6(12),e.Q6J("ngModel",n.infoNewMethod.nombre),e.xp6(2),e.Q6J("ngModel",n.typeMethod)("value",n.typeMethod),e.xp6(5),e.Q6J("ngIf","1"===n.typeMethod),e.xp6(18),e.Q6J("ngModel",n.infoEditMethod.nombre),e.xp6(2),e.Q6J("ngModel",n.typeMethod)("value",n.typeMethod),e.xp6(5),e.Q6J("ngIf","1"==n.typeMethod))},dependencies:[u.sg,u.O5,s.YN,s.Kr,s.Fj,s.EJ,s.JJ,s.JL,s.Q7,s.On,s.F,m],styles:[".table_content_td[_ngcontent-%COMP%]{font-size:11px}.counter_inp[_ngcontent-%COMP%]{width:40px;border-radius:3px}.actions_container[_ngcontent-%COMP%]{display:flex;gap:2px}"]}),d})();class P{getAllPaymenthMethods(){return(0,l.Z)(function*(){return(yield p.Z.get(`${g.T.baseUrl}ctl_ingresos?api_key=gkq7MTv7alzg5vlqNvVlpg2japI3B5dD`)).data})()}deleteIncome(d){return(0,l.Z)(function*(){return(yield p.Z.delete(`${g.T.baseUrl}ctl_ingresos/${d}?api_key=gkq7MTv7alzg5vlqNvVlpg2japI3B5dD`)).data})()}}function oe(i,d){if(1&i){const o=e.EpF();e.TgZ(0,"tr")(1,"th",16),e._uU(2),e.qZA(),e.TgZ(3,"td",17),e._uU(4),e.qZA(),e.TgZ(5,"td",17),e._uU(6),e.qZA(),e.TgZ(7,"td",17),e._uU(8),e.qZA(),e.TgZ(9,"td",17),e._uU(10),e.qZA(),e.TgZ(11,"td",17),e._uU(12),e.qZA(),e.TgZ(13,"td",18)(14,"button",19),e.NdJ("click",function(){const r=e.CHM(o).$implicit,a=e.oxw();return e.KtG(a.idDelete=r.id)}),e._uU(15," Eliminar "),e.qZA()()()}if(2&i){const o=d.$implicit,t=d.index;e.xp6(2),e.Oqu(t+1),e.xp6(2),e.Oqu(o.pedido.id),e.xp6(2),e.Oqu(o.forma_de_pago.nombre),e.xp6(2),e.Oqu(o.fecha),e.xp6(2),e.hij("$ ",o.importe,""),e.xp6(2),e.Oqu(o.usuario.nombre)}}let re=(()=>{var i;class d{constructor(t){this.services=t,this.incomes=[],this.idDelete="",this.quantityItems=20,this.dtOptions={},this.dtTrigger=new b.x}ngOnDestroy(){this.dtTrigger.unsubscribe()}ngOnInit(){let t=localStorage.getItem("USER");t=JSON.parse(t),t&&(this.user=t,this.dtOptions={pagingType:"full_numbers",language:{url:"//cdn.datatables.net/plug-ins/1.10.15/i18n/Spanish.json"}},this.getAllIncomes())}getAllIncomes(){var t=this;return(0,l.Z)(function*(){try{let n=yield t.services.getAllPaymenthMethods();t.incomes=n.data,t.dtTrigger.next(n.data)}catch{}})()}deleteIncome(){return(0,l.Z)(function*(){})()}}return(i=d).\u0275fac=function(t){return new(t||i)(e.Y36(P))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-income-page"]],decls:38,vars:3,consts:[[1,"py-5","px-2"],[1,"d-flex","justify-content-between","align-items-center","mb-5"],[1,"text-secondary"],["datatable","",1,"table","border","table-striped","table-bordered","table_users",3,"dtOptions","dtTrigger"],["scope","col",1,"table_content_td","text-secondary"],[4,"ngFor","ngForOf"],["id","deleteIncomeModal","tabindex","-1","aria-labelledby","deleteIncomeModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","deleteIncomeModalLabel",1,"modal-title","fs-5"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["data-bs-dismiss","modal","type","button","data-bs-dismiss","modal",1,"btn","btn-primary",3,"click"],["scope","row",1,"table_content_td","text-secondary"],[1,"table_content_td","text-secondary"],[1,""],["data-bs-toggle","modal","data-bs-target","#deleteIncomeModal",1,"btn","btn-outline-danger","bg-white","btn_actions",3,"click"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h2",2),e._uU(3,"Ingresos"),e.qZA()(),e.TgZ(4,"table",3)(5,"thead")(6,"tr")(7,"th",4),e._uU(8,"#"),e.qZA(),e.TgZ(9,"th",4),e._uU(10,"Pedido"),e.qZA(),e.TgZ(11,"th",4),e._uU(12,"Formas de Pago"),e.qZA(),e.TgZ(13,"th",4),e._uU(14,"Fecha"),e.qZA(),e.TgZ(15,"th",4),e._uU(16,"Importe"),e.qZA(),e.TgZ(17,"th",4),e._uU(18,"Usuario"),e.qZA(),e.TgZ(19,"th",4),e._uU(20,"Acciones"),e.qZA()()(),e.TgZ(21,"tbody"),e.YNc(22,oe,16,6,"tr",5),e.qZA()()(),e.TgZ(23,"div",6)(24,"div",7)(25,"div",8)(26,"div",9)(27,"h1",10),e._uU(28,"Eliminar Ingreso"),e.qZA(),e._UZ(29,"button",11),e.qZA(),e.TgZ(30,"div",12)(31,"p"),e._uU(32,"Estas seguro de eliminar este ingreso?"),e.qZA()(),e.TgZ(33,"div",13)(34,"button",14),e._uU(35,"Cerrar"),e.qZA(),e.TgZ(36,"button",15),e.NdJ("click",function(){return n.deleteIncome()}),e._uU(37,"Eliminar Ingreso"),e.qZA()()()()()),2&t&&(e.xp6(4),e.Q6J("dtOptions",n.dtOptions)("dtTrigger",n.dtTrigger),e.xp6(18),e.Q6J("ngForOf",n.incomes))},dependencies:[u.sg,m],styles:[".table_content_td[_ngcontent-%COMP%]{font-size:11px}.btn_actions[_ngcontent-%COMP%]{padding:1px 3px!important;font-size:11px;border-radius:4px}.counter_inp[_ngcontent-%COMP%]{width:40px;border-radius:3px}.qiSelect_cont[_ngcontent-%COMP%]{display:inline;width:50px;border:1px solid #f2f2f2;border-radius:3px}"]}),d})();class O{getAllExpenses(){return(0,l.Z)(function*(){return(yield p.Z.get(`${g.T.baseUrl}ctl_egresos?api_key=gkq7MTv7alzg5vlqNvVlpg2japI3B5dD`)).data})()}getAllProviders(){return(0,l.Z)(function*(){return(yield p.Z.get(`${g.T.baseUrl}cat_proveedores?api_key=gkq7MTv7alzg5vlqNvVlpg2japI3B5dD`)).data})()}getAllPaymenthMethods(){return(0,l.Z)(function*(){return(yield p.Z.get(`${g.T.baseUrl}cat_forma_de_pago?api_key=gkq7MTv7alzg5vlqNvVlpg2japI3B5dD`)).data})()}createExpense(d){return(0,l.Z)(function*(){return(yield p.Z.post(`${g.T.baseUrl}ctl_egresos?api_key=gkq7MTv7alzg5vlqNvVlpg2japI3B5dD&fecha=${d.fecha}&proveedor_id=${d.proveedor_id}&descripcion=${d.descripcion}&importe=${d.importe}&forma_de_pago_id=${d.forma_de_pago_id}&usuario_id=${d.usuario_id}`,{})).data})()}editExpense(d){return(0,l.Z)(function*(){return(yield p.Z.put(`${g.T.baseUrl}ctl_egresos/${d.id}?api_key=gkq7MTv7alzg5vlqNvVlpg2japI3B5dD&fecha=${d.fecha}&proveedor_id=${d.proveedor_id}&descripcion=${d.descripcion}&importe=${d.importe}&forma_de_pago_id=${d.forma_de_pago_id}&usuario_id=${d.usuario_id}`,{})).data})()}deleteExpense(d){return(0,l.Z)(function*(){return(yield p.Z.delete(`${g.T.baseUrl}ctl_egresos/${d}?api_key=gkq7MTv7alzg5vlqNvVlpg2japI3B5dD`)).data})()}}function ie(i,d){if(1&i){const o=e.EpF();e.TgZ(0,"tr")(1,"th",32),e._uU(2),e.qZA(),e.TgZ(3,"td",33),e._uU(4),e.qZA(),e.TgZ(5,"td",33),e._uU(6),e.qZA(),e.TgZ(7,"td",33),e._uU(8),e.qZA(),e.TgZ(9,"td",33),e._uU(10),e.qZA(),e.TgZ(11,"td",33),e._uU(12),e.qZA(),e.TgZ(13,"td",33),e._uU(14),e.qZA(),e.TgZ(15,"td",34)(16,"button",35),e.NdJ("click",function(){const r=e.CHM(o).$implicit,a=e.oxw();return e.KtG(a.selectExpense(r))}),e._uU(17," Editar "),e.qZA(),e.TgZ(18,"button",36),e.NdJ("click",function(){const r=e.CHM(o).$implicit,a=e.oxw();return e.KtG(a.idDelete=r.id)}),e._uU(19," Eliminar "),e.qZA()()()}if(2&i){const o=d.$implicit,t=d.index;e.xp6(2),e.Oqu(t+1),e.xp6(2),e.Oqu(o.fecha),e.xp6(2),e.Oqu(o.proveedor.nombre),e.xp6(2),e.Oqu(o.descripcion),e.xp6(2),e.hij("$ ",o.importe,""),e.xp6(2),e.Oqu(o.forma_de_pago.nombre),e.xp6(2),e.Oqu(o.usuario.nombre)}}function ae(i,d){if(1&i&&(e.TgZ(0,"option",37),e._uU(1),e.qZA()),2&i){const o=d.$implicit;e.Q6J("value",o.id),e.xp6(1),e.Oqu(o.nombre)}}function de(i,d){if(1&i&&(e.TgZ(0,"option",37),e._uU(1),e.qZA()),2&i){const o=d.$implicit;e.Q6J("value",o.id),e.xp6(1),e.Oqu(o.nombre)}}function le(i,d){if(1&i&&(e.TgZ(0,"option",37),e._uU(1),e.qZA()),2&i){const o=d.$implicit;e.Q6J("value",o.id),e.xp6(1),e.Oqu(o.nombre)}}function se(i,d){if(1&i&&(e.TgZ(0,"option",37),e._uU(1),e.qZA()),2&i){const o=d.$implicit;e.Q6J("value",o.id),e.xp6(1),e.Oqu(o.nombre)}}let pe=(()=>{var i;class d{constructor(t){this.services=t,this.expenses=[],this.providers=[],this.paymenthMethods=[],this.infoNewExpense={fecha:"",proveedor_id:"",descripcion:"",importe:"",forma_de_pago_id:"",usuario_id:""},this.infoEditExpense={fecha:"",proveedor_id:"",descripcion:"",importe:"",forma_de_pago_id:"",usuario_id:"",id:""},this.idDelete="",this.dtOptions={},this.dtTrigger=new b.x}ngOnDestroy(){this.dtTrigger.unsubscribe()}ngOnInit(){let t=localStorage.getItem("USER");t=JSON.parse(t),t&&(this.infoNewExpense.usuario_id=t.id,this.infoEditExpense.usuario_id=t.id,this.dtOptions={pagingType:"full_numbers",language:{url:"//cdn.datatables.net/plug-ins/1.10.15/i18n/Spanish.json"}},this.getAllExpenses())}getAllExpenses(){var t=this;return(0,l.Z)(function*(){try{let n=yield t.services.getAllExpenses(),r=yield t.services.getAllProviders(),a=yield t.services.getAllPaymenthMethods();t.paymenthMethods=a.data,t.providers=r.data,t.expenses=n.data,t.dtTrigger.next(n.data)}catch{}})()}createExpense(){var t=this;return(0,l.Z)(function*(){try{yield t.services.createExpense(t.infoNewExpense),location.reload()}catch{}})()}selectExpense(t){this.infoEditExpense={...this.infoEditExpense,descripcion:t.descripcion,fecha:t.fecha,forma_de_pago_id:t.forma_de_pago_id.toString(),id:t.id.toString(),importe:t.importe,proveedor_id:t.proveedor_id.toString()}}editExpense(){var t=this;return(0,l.Z)(function*(){try{yield t.services.editExpense(t.infoEditExpense),location.reload()}catch{}})()}deleteExpense(){var t=this;return(0,l.Z)(function*(){try{yield t.services.deleteExpense(t.idDelete),location.reload()}catch{}})()}}return(i=d).\u0275fac=function(t){return new(t||i)(e.Y36(O))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-expenses-page"]],decls:114,vars:21,consts:[[1,"py-5","px-2"],[1,"d-flex","justify-content-between","align-items-center","mb-5"],[1,"text-secondary"],["data-bs-toggle","modal","data-bs-target","#newProviderModal",1,"btn","btn-outline-primary","fs-5"],["datatable","",1,"table","border","table-striped","table-bordered","table_users",3,"dtOptions","dtTrigger"],[1,"border"],["scope","col",1,"table_content_td","text-secondary"],[4,"ngFor","ngForOf"],["id","newProviderModal","tabindex","-1","aria-labelledby","newProviderModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],["ngNativeValidate","",1,"modal-content",3,"submit"],[1,"modal-header"],["id","newProviderModalLabel",1,"modal-title","fs-5"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"mb-2"],["name","dateNew","type","date","required","",1,"form-control",3,"ngModel","ngModelChange"],["required","","name","selectProvider",1,"form-control",3,"ngModel","value","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["type","text","name","descNew","required","",1,"form-control",3,"ngModel","ngModelChange"],["name","importeNew","type","number","required","",1,"form-control",3,"ngModel","ngModelChange"],["required","","name","methodSelect",1,"form-control",3,"ngModel","value","ngModelChange"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["closeModal",""],["type","submit",1,"btn","btn-primary"],["id","editExpenseModal","tabindex","-1","aria-labelledby","editExpenseModalLabel","aria-hidden","true",1,"modal","fade"],["id","editExpenseModalLabel",1,"modal-title","fs-5"],["id","deleteExpenseModal","tabindex","-1","aria-labelledby","deleteExpenseModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-content"],["id","deleteExpenseModalLabel",1,"modal-title","fs-5"],["type","button","data-bs-dismiss","modal",1,"btn","btn-primary",3,"click"],["scope","row",1,"table_content_td","text-secondary"],[1,"table_content_td","text-secondary"],[1,"actions_btns_container"],["data-bs-toggle","modal","data-bs-target","#editExpenseModal",1,"btn","btn-outline-primary","btn_actions",3,"click"],["data-bs-toggle","modal","data-bs-target","#deleteExpenseModal",1,"btn","btn-outline-danger","btn_actions",3,"click"],[3,"value"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h2",2),e._uU(3,"Egresos"),e.qZA(),e.TgZ(4,"button",3),e._uU(5," Nuevo "),e.qZA()(),e.TgZ(6,"table",4)(7,"thead")(8,"tr",5)(9,"th",6),e._uU(10,"#"),e.qZA(),e.TgZ(11,"th",6),e._uU(12,"Fecha"),e.qZA(),e.TgZ(13,"th",6),e._uU(14,"Proveedor"),e.qZA(),e.TgZ(15,"th",6),e._uU(16,"Descripcion"),e.qZA(),e.TgZ(17,"th",6),e._uU(18,"Importe"),e.qZA(),e.TgZ(19,"th",6),e._uU(20,"Forma de pago"),e.qZA(),e.TgZ(21,"th",6),e._uU(22,"Usuario"),e.qZA(),e.TgZ(23,"th",6),e._uU(24,"Acciones"),e.qZA()()(),e.TgZ(25,"tbody"),e.YNc(26,ie,20,7,"tr",7),e.qZA()()(),e.TgZ(27,"div",8)(28,"div",9)(29,"form",10),e.NdJ("submit",function(){return n.createExpense()}),e.TgZ(30,"div",11)(31,"h1",12),e._uU(32,"Agregar Egreso"),e.qZA(),e._UZ(33,"button",13),e.qZA(),e.TgZ(34,"div",14)(35,"div",15)(36,"p",2),e._uU(37,"Fecha"),e.qZA(),e.TgZ(38,"input",16),e.NdJ("ngModelChange",function(a){return n.infoNewExpense.fecha=a}),e.qZA()(),e.TgZ(39,"div",15)(40,"p",2),e._uU(41,"Seleccione un proveedor"),e.qZA(),e.TgZ(42,"select",17),e.NdJ("ngModelChange",function(a){return n.infoNewExpense.proveedor_id=a}),e.YNc(43,ae,2,2,"option",18),e.qZA()(),e.TgZ(44,"div",15)(45,"p",2),e._uU(46,"Descripcion"),e.qZA(),e.TgZ(47,"input",19),e.NdJ("ngModelChange",function(a){return n.infoNewExpense.descripcion=a}),e.qZA()(),e.TgZ(48,"div",15)(49,"p",2),e._uU(50,"Importe"),e.qZA(),e.TgZ(51,"input",20),e.NdJ("ngModelChange",function(a){return n.infoNewExpense.importe=a}),e.qZA()(),e.TgZ(52,"div",15)(53,"p",2),e._uU(54,"Seleccione un banco"),e.qZA(),e.TgZ(55,"select",21),e.NdJ("ngModelChange",function(a){return n.infoNewExpense.forma_de_pago_id=a}),e.YNc(56,de,2,2,"option",18),e.qZA()()(),e.TgZ(57,"div",22)(58,"button",23,24),e._uU(60,"Cerrar"),e.qZA(),e.TgZ(61,"button",25),e._uU(62,"Crear Egreso"),e.qZA()()()()(),e.TgZ(63,"div",26)(64,"div",9)(65,"form",10),e.NdJ("submit",function(){return n.editExpense()}),e.TgZ(66,"div",11)(67,"h1",27),e._uU(68,"Editar Egreso"),e.qZA(),e._UZ(69,"button",13),e.qZA(),e.TgZ(70,"div",14)(71,"div",15)(72,"p",2),e._uU(73,"Fecha"),e.qZA(),e.TgZ(74,"input",16),e.NdJ("ngModelChange",function(a){return n.infoEditExpense.fecha=a}),e.qZA()(),e.TgZ(75,"div",15)(76,"p",2),e._uU(77,"Seleccione un proveedor"),e.qZA(),e.TgZ(78,"select",17),e.NdJ("ngModelChange",function(a){return n.infoEditExpense.proveedor_id=a}),e.YNc(79,le,2,2,"option",18),e.qZA()(),e.TgZ(80,"div",15)(81,"p",2),e._uU(82,"Descripcion"),e.qZA(),e.TgZ(83,"input",19),e.NdJ("ngModelChange",function(a){return n.infoEditExpense.descripcion=a}),e.qZA()(),e.TgZ(84,"div",15)(85,"p",2),e._uU(86,"Importe"),e.qZA(),e.TgZ(87,"input",20),e.NdJ("ngModelChange",function(a){return n.infoEditExpense.importe=a}),e.qZA()(),e.TgZ(88,"div",15)(89,"p",2),e._uU(90,"Seleccione un banco"),e.qZA(),e.TgZ(91,"select",21),e.NdJ("ngModelChange",function(a){return n.infoEditExpense.forma_de_pago_id=a}),e.YNc(92,se,2,2,"option",18),e.qZA()()(),e.TgZ(93,"div",22)(94,"button",23,24),e._uU(96,"Cerrar"),e.qZA(),e.TgZ(97,"button",25),e._uU(98,"Editar Egreso"),e.qZA()()()()(),e.TgZ(99,"div",28)(100,"div",9)(101,"div",29)(102,"div",11)(103,"h1",30),e._uU(104,"Elimar Egreso"),e.qZA(),e._UZ(105,"button",13),e.qZA(),e.TgZ(106,"div",14)(107,"p"),e._uU(108,"Estas seguro de eliminar este egreso?"),e.qZA()(),e.TgZ(109,"div",22)(110,"button",23),e._uU(111,"Cerrar"),e.qZA(),e.TgZ(112,"button",31),e.NdJ("click",function(){return n.deleteExpense()}),e._uU(113,"Eliminar Egreso"),e.qZA()()()()()),2&t&&(e.xp6(6),e.Q6J("dtOptions",n.dtOptions)("dtTrigger",n.dtTrigger),e.xp6(20),e.Q6J("ngForOf",n.expenses),e.xp6(12),e.Q6J("ngModel",n.infoNewExpense.fecha),e.xp6(4),e.Q6J("ngModel",n.infoNewExpense.proveedor_id)("value",n.infoNewExpense.proveedor_id),e.xp6(1),e.Q6J("ngForOf",n.providers),e.xp6(4),e.Q6J("ngModel",n.infoNewExpense.descripcion),e.xp6(4),e.Q6J("ngModel",n.infoNewExpense.importe),e.xp6(4),e.Q6J("ngModel",n.infoNewExpense.forma_de_pago_id)("value",n.infoNewExpense.forma_de_pago_id),e.xp6(1),e.Q6J("ngForOf",n.paymenthMethods),e.xp6(18),e.Q6J("ngModel",n.infoEditExpense.fecha),e.xp6(4),e.Q6J("ngModel",n.infoEditExpense.proveedor_id)("value",n.infoEditExpense.proveedor_id),e.xp6(1),e.Q6J("ngForOf",n.providers),e.xp6(4),e.Q6J("ngModel",n.infoEditExpense.descripcion),e.xp6(4),e.Q6J("ngModel",n.infoEditExpense.importe),e.xp6(4),e.Q6J("ngModel",n.infoEditExpense.forma_de_pago_id)("value",n.infoEditExpense.forma_de_pago_id),e.xp6(1),e.Q6J("ngForOf",n.paymenthMethods))},dependencies:[u.sg,s.YN,s.Kr,s.Fj,s.wV,s.EJ,s.JJ,s.JL,s.Q7,s.On,s.F,m],styles:[".table_content_td[_ngcontent-%COMP%]{font-size:11px}.btn_actions[_ngcontent-%COMP%]{padding:1px 3px!important;border-radius:3px;font-size:11px}.actions_btns_container[_ngcontent-%COMP%]{display:flex;gap:2px}"]}),d})(),ge=(()=>{var i;class d{}return(i=d).\u0275fac=function(t){return new(t||i)},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-balances-page"]],decls:2,vars:0,template:function(t,n){1&t&&(e.TgZ(0,"p"),e._uU(1,"balances-page works!"),e.qZA())}}),d})();class x{getAllOrders(){return(0,l.Z)(function*(){return(yield p.Z.get(`${g.T.baseUrl}ctl_pedidos?api_key=gkq7MTv7alzg5vlqNvVlpg2japI3B5dD`)).data})()}getAllClients(){return(0,l.Z)(function*(){return(yield p.Z.get(`${g.T.baseUrl}cat_clientes?api_key=gkq7MTv7alzg5vlqNvVlpg2japI3B5dD`)).data})()}getAllPaymenthMethods(){return(0,l.Z)(function*(){return(yield p.Z.get(`${g.T.baseUrl}cat_forma_de_pago?api_key=gkq7MTv7alzg5vlqNvVlpg2japI3B5dD`)).data})()}getAllPaymenthsPerId(d){return(0,l.Z)(function*(){return(yield p.Z.get(`${g.T.baseUrl}ctl_ingresos?pedido_id=${d}&api_key=gkq7MTv7alzg5vlqNvVlpg2japI3B5dD`)).data})()}createClient(d){return(0,l.Z)(function*(){return(yield p.Z.post(`${g.T.baseUrl}cat_clientes?api_key=gkq7MTv7alzg5vlqNvVlpg2japI3B5dD&nombre=${d.nombre}&telefono=${d.telefono}&email=${d.email}&usuario_id=${d.usuario_id}`,{})).data})()}createOrder(d){return(0,l.Z)(function*(){return(yield p.Z.post(`${g.T.baseUrl}ctl_pedidos?cliente_id=${d.cliente_id}&anticipo=${d.anticipo}&costo=${d.costo}&status=${d.status}&fecha_pedido=${d.fecha_pedido}&usuario_id=${d.usuario_id}&producto=${d.producto}&tipo_entrega=${d.tipo_entrega}&fecha_entrega=${d.fecha_entrega}&hora=${d.hora}&nombre_receptor=${d.nombre_receptor}&telefono_receptor=${d.telefono_receptor}&direccion=${d.direccion}&mensaje_tarjeta=${d.mensaje_tarjeta}&comentarios=${d.comentarios}&api_key=gkq7MTv7alzg5vlqNvVlpg2japI3B5dD`,{})).data})()}editOrder(d){return(0,l.Z)(function*(){return(yield p.Z.put(`${g.T.baseUrl}ctl_pedidos/${d.pedido_id}?pedido_id=${d.pedido_id}&cliente_id=${d.cliente_id}&anticipo=${d.anticipo}&costo=${d.costo}&status=${d.status}&fecha_pedido=${d.fecha_pedido}&usuario_id=${d.usuario_id}&producto=${d.producto}&tipo_entrega=${d.tipo_entrega}&fecha_entrega=${d.fecha_entrega}&hora=${d.hora}&nombre_receptor=${d.nombre_receptor}&telefono_receptor=${d.telefono_receptor}&direccion=${d.direccion}&mensaje_tarjeta=${d.mensaje_tarjeta}&comentarios=${d.comentarios}&api_key=gkq7MTv7alzg5vlqNvVlpg2japI3B5dD`,{})).data})()}payOrder(d){return(0,l.Z)(function*(){return(yield p.Z.post(`${g.T.baseUrl}ctl_ingresos?pedido_id=${d.pedido_id}&forma_de_pago_id=${d.forma_de_pago_id}&fecha=${d.fecha}&importe=${d.importe}&usuario_id=${d.usuario_id}&api_key=gkq7MTv7alzg5vlqNvVlpg2japI3B5dD`,{})).data})()}deleteOrder(d){return(0,l.Z)(function*(){return(yield p.Z.delete(`${g.T.baseUrl}ctl_pedidos/${d}?api_key=gkq7MTv7alzg5vlqNvVlpg2japI3B5dD`)).data})()}}const ce=["inputField"];let J=(()=>{var i;class d{constructor(){this.placeholder="Enter address...",this.value="",this.placeChanged=new e.vpe}ngOnInit(){}ngAfterViewInit(){this.autocomplete=new google.maps.places.Autocomplete(this.inputField.nativeElement,{componentRestrictions:{country:"MX"}}),this.autocomplete.addListener("place_changed",()=>{const t=this.autocomplete?.getPlace();this.placeChanged.emit({address:this.inputField.nativeElement.value,name:t?.name,location:t?.geometry?.location,iconUrl:t?.icon,place_id:t?.place_id,url:t?.url})})}ngOnDestroy(){this.autocomplete&&google.maps.event.clearInstanceListeners(this.autocomplete)}}return(i=d).\u0275fac=function(t){return new(t||i)},i.\u0275cmp=e.Xpm({type:i,selectors:[["google-autocomplete"]],viewQuery:function(t,n){if(1&t&&e.Gf(ce,5),2&t){let r;e.iGM(r=e.CRH())&&(n.inputField=r.first)}},inputs:{placeholder:"placeholder",value:"value"},outputs:{placeChanged:"placeChanged"},decls:4,vars:1,consts:[[1,"text-secondary"],["placeholder","Direccion...","name","google_places_ac",1,"form-control",3,"value"],["inputField",""]],template:function(t,n){1&t&&(e.TgZ(0,"p",0),e._uU(1,"Direccion"),e.qZA(),e._UZ(2,"input",1,2)),2&t&&(e.xp6(2),e.Q6J("value",n.value))}}),d})();const ue=["closeModal"];function _e(i,d){if(1&i){const o=e.EpF();e.TgZ(0,"button",83),e.NdJ("click",function(){e.CHM(o);const n=e.oxw().$implicit,r=e.oxw();return e.KtG(r.selectOrderToPay(n))}),e._uU(1," Pagar "),e.qZA()}}function me(i,d){if(1&i){const o=e.EpF();e.TgZ(0,"tr")(1,"td",74),e._uU(2),e.qZA(),e.TgZ(3,"td",75),e._uU(4),e.qZA(),e.TgZ(5,"td",75),e._uU(6),e.qZA(),e.TgZ(7,"td",75),e._uU(8),e.qZA(),e.TgZ(9,"td",75),e._uU(10),e.qZA(),e.TgZ(11,"td",75),e._uU(12),e.qZA(),e.TgZ(13,"td",75),e._uU(14),e.qZA(),e.TgZ(15,"td",75),e._uU(16),e.qZA(),e.TgZ(17,"td",75),e._uU(18),e.qZA(),e.TgZ(19,"td",75),e._uU(20),e.qZA(),e.TgZ(21,"td",75),e._uU(22),e.qZA(),e.TgZ(23,"td",75)(24,"b"),e._uU(25,"Telefono:"),e.qZA(),e._uU(26),e._UZ(27,"br"),e.TgZ(28,"b"),e._uU(29,"Direccion"),e.qZA(),e._uU(30),e._UZ(31,"br"),e.TgZ(32,"b"),e._uU(33,"Mensaje"),e.qZA(),e._uU(34),e._UZ(35,"br"),e.TgZ(36,"b"),e._uU(37,"Comentarios"),e.qZA(),e._uU(38),e.qZA(),e.TgZ(39,"td",75),e._uU(40),e.qZA(),e.TgZ(41,"td",76),e._uU(42),e.qZA(),e.TgZ(43,"td",77)(44,"button",78),e.NdJ("click",function(){const r=e.CHM(o).$implicit,a=e.oxw();return e.KtG(a.selectOrderInfo(r))}),e._uU(45," Editar "),e.qZA(),e.TgZ(46,"button",79),e.NdJ("click",function(){const r=e.CHM(o).$implicit,a=e.oxw();return e.KtG(a.getPaymenthsOrders(r.id,r.productos.producto))}),e._uU(47," Pagos "),e.qZA(),e.YNc(48,_e,2,0,"button",80),e.TgZ(49,"button",81),e.NdJ("click",function(){const r=e.CHM(o).$implicit,a=e.oxw();return e.KtG(a.selectOrderInfo(r))}),e._uU(50," Avanzar "),e.qZA(),e.TgZ(51,"button",82),e.NdJ("click",function(){const r=e.CHM(o).$implicit,a=e.oxw();return e.KtG(a.idDelete=r.id)}),e._uU(52," Eliminar "),e.qZA()()()}if(2&i){const o=d.$implicit;e.xp6(2),e.Oqu(o.id),e.xp6(2),e.Oqu(o.cliente.nombre),e.xp6(2),e.Oqu(o.productos.producto),e.xp6(2),e.Oqu(o.fecha_pedido),e.xp6(2),e.Oqu(o.productos.costo),e.xp6(2),e.Oqu(o.anticipo),e.xp6(2),e.Oqu(o.saldo),e.xp6(2),e.Oqu(o.productos.fecha_entrega),e.xp6(2),e.Oqu(o.productos.hora),e.xp6(2),e.Oqu("0"===o.productos.tipo_entrega?"Recoger en tienda":"Envio a domicilio"),e.xp6(2),e.Oqu(o.productos.nombre_receptor),e.xp6(4),e.hij(" ",o.productos.telefono_receptor," "),e.xp6(4),e.hij(": ",o.productos.direccion,", "),e.xp6(4),e.hij(": ",o.productos.mensaje_tarjeta,", "),e.xp6(4),e.hij(": ",o.productos.comentarios," "),e.xp6(2),e.xDo(" ",0==o.status?"Por Pagar":null," ",1==o.status?"Pagado":null," ",2==o.status?"Por Elaborar":null," ",3==o.status?"Elaborado":null," ",4==o.status?"En ruta":null," "),e.xp6(2),e.Oqu(o.productos.repartidor),e.xp6(6),e.Q6J("ngIf",o.saldo>"0")}}function fe(i,d){if(1&i&&(e.TgZ(0,"option",26),e._uU(1),e.qZA()),2&i){const o=d.$implicit;e.Q6J("value",o.id),e.xp6(1),e.AsE("",o.nombre," - ",""===o.telefono.trim()?"No tiene numero":o.telefono,"")}}function Ze(i,d){if(1&i){const o=e.EpF();e.TgZ(0,"div",84)(1,"p",2),e._uU(2,"Nombre del cliente"),e.qZA(),e.TgZ(3,"input",85),e.NdJ("ngModelChange",function(n){e.CHM(o);const r=e.oxw();return e.KtG(r.clientForm.nombre=n)}),e.qZA(),e.TgZ(4,"p",2),e._uU(5,"Correo del cliente"),e.qZA(),e.TgZ(6,"input",86),e.NdJ("ngModelChange",function(n){e.CHM(o);const r=e.oxw();return e.KtG(r.clientForm.email=n)}),e.qZA(),e.TgZ(7,"p",2),e._uU(8,"Telefono del cliente"),e.qZA(),e.TgZ(9,"input",87),e.NdJ("ngModelChange",function(n){e.CHM(o);const r=e.oxw();return e.KtG(r.clientForm.telefono=n)}),e.qZA(),e.TgZ(10,"button",88),e.NdJ("click",function(){e.CHM(o);const n=e.oxw();return e.KtG(n.createClient())}),e._uU(11," Crear cliente "),e.qZA()()}if(2&i){const o=e.oxw();e.xp6(3),e.Q6J("ngModel",o.clientForm.nombre),e.xp6(3),e.Q6J("ngModel",o.clientForm.email),e.xp6(3),e.Q6J("ngModel",o.clientForm.telefono)}}function he(i,d){if(1&i){const o=e.EpF();e.TgZ(0,"button",91),e.NdJ("click",function(){e.CHM(o);const n=e.oxw(2);return e.KtG(n.openGoogleMaps())}),e._uU(1," Ver en el mapa "),e.qZA()}}function be(i,d){if(1&i){const o=e.EpF();e.TgZ(0,"div",15)(1,"google-autocomplete",89),e.NdJ("placeChanged",function(n){e.CHM(o);const r=e.oxw();return e.KtG(r.handlePlace(n))}),e.qZA(),e.YNc(2,he,2,0,"button",90),e.qZA()}if(2&i){const o=e.oxw();e.xp6(2),e.Q6J("ngIf",o.autocomple)}}function Te(i,d){if(1&i&&(e.TgZ(0,"option",26),e._uU(1),e.qZA()),2&i){const o=d.$implicit;e.Q6J("value",o.id),e.xp6(1),e.AsE("",o.nombre," - ",""===o.telefono.trim()?"No tiene numero":o.telefono,"")}}function ve(i,d){if(1&i){const o=e.EpF();e.TgZ(0,"div",84)(1,"p",2),e._uU(2,"Nombre del cliente"),e.qZA(),e.TgZ(3,"input",85),e.NdJ("ngModelChange",function(n){e.CHM(o);const r=e.oxw();return e.KtG(r.clientForm.nombre=n)}),e.qZA(),e.TgZ(4,"p",2),e._uU(5,"Correo del cliente"),e.qZA(),e.TgZ(6,"input",86),e.NdJ("ngModelChange",function(n){e.CHM(o);const r=e.oxw();return e.KtG(r.clientForm.email=n)}),e.qZA(),e.TgZ(7,"p",2),e._uU(8,"Telefono del cliente"),e.qZA(),e.TgZ(9,"input",87),e.NdJ("ngModelChange",function(n){e.CHM(o);const r=e.oxw();return e.KtG(r.clientForm.telefono=n)}),e.qZA(),e.TgZ(10,"button",88),e.NdJ("click",function(){e.CHM(o);const n=e.oxw();return e.KtG(n.createClient())}),e._uU(11," Crear cliente "),e.qZA()()}if(2&i){const o=e.oxw();e.xp6(3),e.Q6J("ngModel",o.clientForm.nombre),e.xp6(3),e.Q6J("ngModel",o.clientForm.email),e.xp6(3),e.Q6J("ngModel",o.clientForm.telefono)}}function Ce(i,d){if(1&i){const o=e.EpF();e.TgZ(0,"div",15)(1,"google-autocomplete",92),e.NdJ("placeChanged",function(n){e.CHM(o);const r=e.oxw();return e.KtG(r.handlePlaceEdit(n))}),e.qZA()()}if(2&i){const o=e.oxw();e.xp6(1),e.Q6J("value",o.editOrderInfo.direccion)}}function Me(i,d){if(1&i&&(e.TgZ(0,"tr")(1,"td",75),e._uU(2),e.qZA(),e.TgZ(3,"td",75),e._uU(4),e.qZA(),e.TgZ(5,"td",75),e._uU(6),e.qZA(),e.TgZ(7,"td",75),e._uU(8),e.qZA(),e.TgZ(9,"td",75),e._uU(10),e.qZA(),e._UZ(11,"td",75),e.qZA()),2&i){const o=d.$implicit,t=e.oxw();e.xp6(2),e.Oqu(t.productClicked),e.xp6(2),e.Oqu(o.pedido.id),e.xp6(2),e.Oqu(o.forma_de_pago.nombre),e.xp6(2),e.Oqu(o.fecha),e.xp6(2),e.hij("$",o.importe,"")}}function qe(i,d){if(1&i&&(e.TgZ(0,"option",26),e._uU(1),e.qZA()),2&i){const o=d.$implicit;e.Q6J("value",o.id),e.xp6(1),e.Oqu(o.nombre)}}let ye=(()=>{var i;class d{constructor(t){this.services=t,this.orders=[],this.ordersPag=[[]],this.resultsFilter=[],this.quantityShow=20,this.searchText="",this.clients=[],this.payMethods=[],this.idDelete="",this.paymenthsPerId=[],this.autocomple=!1,this.urlMaps="",this.isCreatingClient=!1,this.clientForm={nombre:"",telefono:"",email:"",usuario_id:""},this.formAddPay={nombre:"",pedido_id:"",forma_de_pago_id:"",fecha:"",importe:"",usuario_id:"",saldo:""},this.productClicked="",this.newOrderInfo={cliente_id:"",anticipo:"0",costo:"",status:"0",fecha_pedido:"",usuario_id:"",producto:"",tipo_entrega:"0",fecha_entrega:"",hora:"",nombre_receptor:"",telefono_receptor:"",direccion:"",mensaje_tarjeta:"",comentarios:""},this.editOrderInfo={pedido_id:"",cliente_id:"",anticipo:"0",costo:"",status:"0",fecha_pedido:"",usuario_id:"",producto:"",tipo_entrega:"0",fecha_entrega:"",hora:"",nombre_receptor:"",telefono_receptor:"",direccion:"",mensaje_tarjeta:"",comentarios:""},this.dtOptions={},this.dtTrigger=new b.x}ngOnDestroy(){this.dtTrigger.unsubscribe()}selectOrderToPay(t){this.formAddPay={...this.formAddPay,pedido_id:t.id.toString(),nombre:`${t.id} - ${t.cliente.nombre}`,saldo:t.saldo}}ngOnInit(){let t=localStorage.getItem("USER");t=JSON.parse(t),t&&(this.newOrderInfo.usuario_id=t.id,this.editOrderInfo.usuario_id=t.id,this.clientForm.usuario_id=t.id,this.formAddPay.usuario_id=t.id,this.getAllClients(),this.getAllOrders(),this.getAllPayMethods(),this.dtOptions={pagingType:"full_numbers",language:{url:"//cdn.datatables.net/plug-ins/1.10.15/i18n/Spanish.json"}})}changeBoolClient(){this.isCreatingClient=!this.isCreatingClient}selectOrderInfo(t){this.editOrderInfo={...this.editOrderInfo,anticipo:t.anticipo,cliente_id:t.cliente_id.toString(),comentarios:t.productos.comentarios,costo:t.costo,direccion:t.productos.direccion,fecha_entrega:t.productos.fecha_entrega,fecha_pedido:t.fecha_pedido,hora:t.productos.hora,mensaje_tarjeta:t.productos.mensaje_tarjeta,nombre_receptor:t.productos.nombre_receptor,pedido_id:t.id.toString(),producto:t.productos.producto,status:t.status.toString(),telefono_receptor:t.productos.telefono_receptor,tipo_entrega:t.productos.tipo_entrega}}getAllOrders(){var t=this;return(0,l.Z)(function*(){try{let n=yield t.services.getAllOrders(),r=n.data.filter(a=>null!==a.productos&&a.productos.status_proceso<5);t.orders=r,t.resultsFilter=r,t.dtTrigger.next(n.data)}catch(n){c().fire({icon:"error",title:"Oops...",text:n.response.data.notificacion.mensaje})}})()}getAllPayMethods(){var t=this;return(0,l.Z)(function*(){try{let n=yield t.services.getAllPaymenthMethods();t.payMethods=n.data}catch(n){c().fire({icon:"error",title:"Oops...",text:n.response.data.notificacion.mensaje})}})()}getAllClients(){var t=this;return(0,l.Z)(function*(){try{let n=yield t.services.getAllClients();t.clients=n.data}catch(n){c().fire({icon:"error",title:"Oops...",text:n.response.data.notificacion.mensaje})}})()}getPaymenthsOrders(t,n){var r=this;return(0,l.Z)(function*(){r.productClicked=n;try{let a=yield r.services.getAllPaymenthsPerId(t);r.paymenthsPerId=a.data}catch(a){c().fire({icon:"error",title:"Oops...",text:a.response.data.notificacion.mensaje})}})()}createOrder(){var t=this;return(0,l.Z)(function*(){if("1"!=t.newOrderInfo.tipo_entrega||""!==t.newOrderInfo.direccion.trim())try{yield t.services.createOrder({...t.newOrderInfo,direccion:"0"==t.newOrderInfo.tipo_entrega?"":t.newOrderInfo.direccion}),t.closeModal?.nativeElement.click(),location.reload()}catch(n){console.log("Error create order ->",n),c().fire({icon:"error",title:"Oops...",text:n.response.data.notificacion.mensaje})}else c().fire({icon:"error",title:"Oops...",text:"Se necesita una direccion"})})()}editOrder(){var t=this;return(0,l.Z)(function*(){if("1"!=t.editOrderInfo.tipo_entrega||""!==t.editOrderInfo.direccion.trim())try{yield t.services.editOrder({...t.editOrderInfo,direccion:"0"==t.editOrderInfo.tipo_entrega?"":t.editOrderInfo.direccion}),t.closeModal?.nativeElement.click(),location.reload()}catch(n){console.log("Error edit order ->",n),c().fire({icon:"error",title:"Oops...",text:n.response.data.notificacion.mensaje})}else c().fire({icon:"error",title:"Oops...",text:"Se necesita una direccion"})})()}createPayToOrder(){var t=this;return(0,l.Z)(function*(){if(console.log("info a enviar ->",t.formAddPay),Number(t.formAddPay.importe)>Number(t.formAddPay.saldo))c().fire({icon:"error",title:"Oops...",text:"El importe no puede ser mayor al saldo pendiente."});else try{let n=yield t.services.payOrder(t.formAddPay);console.log("response pay ->",n),t.closeModal?.nativeElement.click(),location.reload()}catch(n){c().fire({icon:"error",title:"Oops...",text:n.response.data.notificacion.mensaje})}})()}deleteOrder(){var t=this;return(0,l.Z)(function*(){try{yield t.services.deleteOrder(t.idDelete),t.closeModal?.nativeElement.click(),location.reload()}catch(n){c().fire({icon:"error",title:"Oops...",text:n.response.data.notificacion.mensaje})}})()}createClient(){var t=this;return(0,l.Z)(function*(){if(""!==t.clientForm.email.trim()&&""!==t.clientForm.nombre.trim())try{yield t.services.createClient(t.clientForm),t.clientForm={...t.clientForm,email:"",nombre:"",telefono:""},t.isCreatingClient=!1,t.getAllClients()}catch(n){c().fire({icon:"error",title:"Oops...",text:n.response.data.notificacion.mensaje})}else c().fire({icon:"error",title:"Oops...",text:"Algunos campos del cliente se encuentran vacios"})})()}handlePlace(t){this.newOrderInfo.direccion=t.address,this.autocomple=!0,this.urlMaps=t.url}handlePlaceEdit(t){this.editOrderInfo.direccion=t.address,this.autocomple=!0,this.urlMaps=t.url}openGoogleMaps(){window.open(this.urlMaps,"_blank")}}return(i=d).\u0275fac=function(t){return new(t||i)(e.Y36(x))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-orders-page"]],viewQuery:function(t,n){if(1&t&&(e.Gf(m,5),e.Gf(ue,5)),2&t){let r;e.iGM(r=e.CRH())&&(n.dtElement=r.first),e.iGM(r=e.CRH())&&(n.closeModal=r.first)}},decls:275,vars:49,consts:[[1,"py-5","px-2"],[1,"d-flex","justify-content-between","align-items-center","mb-2"],[1,"text-secondary"],["data-bs-toggle","modal","data-bs-target","#newOrderModal",1,"btn","btn-outline-primary","mb-3"],["datatable","",1,"table","border","table-striped","table-bordered","table_users",3,"dtOptions","dtTrigger"],[1,"border"],["scope","col",1,"table_content_td","text-secondary"],[4,"ngFor","ngForOf"],["id","newOrderModal","tabindex","-1","aria-labelledby","newOrderModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],["ngNativeValidate","",1,"modal-content",3,"submit"],[1,"modal-header"],["id","newOrderModalLabel",1,"modal-title","fs-5"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"mb-2"],["required","","name","selectClientNew",1,"form-control",3,"ngModel","value","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["type","button",1,"btn","btn-secondary","my-2",3,"click"],["class","border mx-3 p-2",4,"ngIf"],["name","fecha_pedidoNew","type","date","required","",1,"form-control",3,"ngModel","ngModelChange"],["name","product","type","text","required","",1,"form-control",3,"ngModel","ngModelChange"],[1,"mb-2","row","row-cols-md-2"],[1,""],["name","cost","type","number","required","",1,"form-control",3,"ngModel","ngModelChange"],["name","selectClientNew",1,"form-control",3,"ngModel","value","ngModelChange"],[3,"value"],["required","","name","fe","type","date",1,"form-control",3,"min","ngModel","ngModelChange"],["required","","name","hor","type","time",1,"form-control",3,"ngModel","ngModelChange"],["required","","name","nr","type","text",1,"form-control",3,"ngModel","ngModelChange"],["name","tr","type","text",1,"form-control",3,"ngModel","ngModelChange"],["class","mb-2",4,"ngIf"],["required","","rows","5","name","addres","type","text",1,"form-control",3,"ngModel","ngModelChange"],["required","","rows","5","name","comment","type","text",1,"form-control",3,"ngModel","ngModelChange"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["closeModal",""],["type","submit",1,"btn","btn-primary"],["id","editOrderModal","tabindex","-1","aria-labelledby","editOrderModalLabel","aria-hidden","true",1,"modal","fade"],["id","editOrderModalLabel",1,"modal-title","fs-5"],["required","","name","selectClientEdit",1,"form-control",3,"ngModel","value","ngModelChange"],["name","fecha_pedidoEdit","type","date","required","",1,"form-control",3,"ngModel","ngModelChange"],["name","productEdit","type","text","required","",1,"form-control",3,"ngModel","ngModelChange"],["disabled","","name","costEdit","type","number","required","",1,"form-control",3,"ngModel","ngModelChange"],["name","selectClientEditType",1,"form-control",3,"ngModel","ngModelChange"],["value","0",3,"selected"],["value","1",3,"selected"],["required","","name","feEdit","type","date",1,"form-control",3,"ngModel","ngModelChange"],["required","","name","horEdit","type","time",1,"form-control",3,"ngModel","ngModelChange"],["required","","name","nrEdit","type","text",1,"form-control",3,"ngModel","ngModelChange"],["name","trEdit","type","text",1,"form-control",3,"ngModel","ngModelChange"],["required","","rows","5","name","tarEdit","type","text",1,"form-control",3,"ngModel","ngModelChange"],["required","","rows","5","name","commentEdit","type","text",1,"form-control",3,"ngModel","ngModelChange"],["id","paymenthsTableModal","tabindex","-1","aria-labelledby","paymenthsTableModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-xl"],[1,"modal-content"],["id","paymenthsTableModalLabel",1,"modal-title","fs-5"],[1,"table","border","table-striped","table-bordered","table_users"],["id","payOrderModal","tabindex","-1","aria-labelledby","payOrderModalLabel","aria-hidden","true",1,"modal","fade"],["id","payOrderModalLabel",1,"modal-title","fs-5"],["required","","name","selectPayMethod",1,"form-control",3,"ngModel","value","ngModelChange"],["name","fecha_pedidoPay","type","date","required","",1,"form-control",3,"ngModel","ngModelChange"],["name","importePay","type","number","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","button",1,"btn","btn-primary",3,"click"],["id","avanzarModal","tabindex","-1","aria-labelledby","avanzarModalLabel","aria-hidden","true",1,"modal","fade"],[1,"form-control",3,"ngModel","value","ngModelChange"],["value","0"],["value","1"],["value","2"],["value","3"],["value","4"],["type","button","data-bs-dismiss","modal",1,"btn","btn-primary",3,"click"],["id","deleteIncomeModal","tabindex","-1","aria-labelledby","deleteIncomeModalLabel","aria-hidden","true",1,"modal","fade"],["id","deleteIncomeModalLabel",1,"modal-title","fs-5"],[1,"table_content_td","text-secondary"],[1,"table_content_td","more_info","text-secondary"],[1,"table_content_td","more_infotext-secondary"],[1,"btn_cont"],["data-bs-toggle","modal","data-bs-target","#editOrderModal",1,"btn","btn-outline-primary","btn_actions",3,"click"],["data-bs-toggle","modal","data-bs-target","#paymenthsTableModal",1,"btn","btn-outline-success","btn_actions",3,"click"],["data-bs-toggle","modal","data-bs-target","#payOrderModal","class","btn btn-outline-secondary btn_actions",3,"click",4,"ngIf"],["data-bs-toggle","modal","data-bs-target","#avanzarModal",1,"btn","btn-outline-primary","btn_actions",3,"click"],["data-bs-toggle","modal","data-bs-target","#deleteIncomeModal",1,"btn","btn-outline-danger","btn_actions",3,"click"],["data-bs-toggle","modal","data-bs-target","#payOrderModal",1,"btn","btn-outline-secondary","btn_actions",3,"click"],[1,"border","mx-3","p-2"],["name","client_nombre","type","text",1,"form-control","mb-2",3,"ngModel","ngModelChange"],["name","client_nombre","type","email",1,"form-control","mb-2",3,"ngModel","ngModelChange"],["name","client_nombre","type","number",1,"form-control","mb-2",3,"ngModel","ngModelChange"],["type","button",1,"btn","btn-outline-primary",3,"click"],["placeholder","Direccion",3,"placeChanged"],["class","btn btn-primary mt-2",3,"click",4,"ngIf"],[1,"btn","btn-primary","mt-2",3,"click"],["placeholder","Direccion",3,"value","placeChanged"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h2",2),e._uU(3,"Pedidos Activos"),e.qZA()(),e.TgZ(4,"div")(5,"button",3),e._uU(6," Nuevo Pedido "),e.qZA()(),e.TgZ(7,"table",4)(8,"thead")(9,"tr",5)(10,"th",6),e._uU(11,"Pedido"),e.qZA(),e.TgZ(12,"th",6),e._uU(13,"Cliente"),e.qZA(),e.TgZ(14,"th",6),e._uU(15,"Producto"),e.qZA(),e.TgZ(16,"th",6),e._uU(17,"Fecha pedido"),e.qZA(),e.TgZ(18,"th",6),e._uU(19,"Precio"),e.qZA(),e.TgZ(20,"th",6),e._uU(21,"Anticipo"),e.qZA(),e.TgZ(22,"th",6),e._uU(23,"Saldo"),e.qZA(),e.TgZ(24,"th",6),e._uU(25,"Fecha de entrega"),e.qZA(),e.TgZ(26,"th",6),e._uU(27,"Hora"),e.qZA(),e.TgZ(28,"th",6),e._uU(29,"Tipo entrega"),e.qZA(),e.TgZ(30,"th",6),e._uU(31,"Nombre Receptor"),e.qZA(),e.TgZ(32,"th",6),e._uU(33,"Datos entrega"),e.qZA(),e.TgZ(34,"th",6),e._uU(35,"Estatus"),e.qZA(),e.TgZ(36,"th",6),e._uU(37,"Repartidor"),e.qZA(),e.TgZ(38,"th",6),e._uU(39,"Acciones"),e.qZA()()(),e.TgZ(40,"tbody"),e.YNc(41,me,53,22,"tr",7),e.qZA()()(),e.TgZ(42,"div",8)(43,"div",9)(44,"form",10),e.NdJ("submit",function(){return n.createOrder()}),e.TgZ(45,"div",11)(46,"h1",12),e._uU(47,"Agregar Pedido"),e.qZA(),e._UZ(48,"button",13),e.qZA(),e.TgZ(49,"div",14)(50,"div",15)(51,"p",2),e._uU(52,"Cliente"),e.qZA(),e.TgZ(53,"select",16),e.NdJ("ngModelChange",function(a){return n.newOrderInfo.cliente_id=a}),e.YNc(54,fe,2,3,"option",17),e.qZA(),e.TgZ(55,"button",18),e.NdJ("click",function(){return n.changeBoolClient()}),e._uU(56," Agregar cliente "),e.qZA(),e.YNc(57,Ze,12,3,"div",19),e.qZA(),e.TgZ(58,"div",15)(59,"p",2),e._uU(60,"Fecha del pedido"),e.qZA(),e.TgZ(61,"input",20),e.NdJ("ngModelChange",function(a){return n.newOrderInfo.fecha_pedido=a}),e.qZA()(),e.TgZ(62,"div",15)(63,"p",2),e._uU(64,"Producto"),e.qZA(),e.TgZ(65,"input",21),e.NdJ("ngModelChange",function(a){return n.newOrderInfo.producto=a}),e.qZA()(),e.TgZ(66,"div",22)(67,"div",23)(68,"p",2),e._uU(69,"Costo"),e.qZA(),e.TgZ(70,"input",24),e.NdJ("ngModelChange",function(a){return n.newOrderInfo.costo=a}),e.qZA()(),e.TgZ(71,"div",23)(72,"p",2),e._uU(73,"Tipo de entrega"),e.qZA(),e.TgZ(74,"select",25),e.NdJ("ngModelChange",function(a){return n.newOrderInfo.tipo_entrega=a}),e.TgZ(75,"option",26),e._uU(76,"Recoger en Tienda"),e.qZA(),e.TgZ(77,"option",26),e._uU(78,"Envio a domicilio"),e.qZA()()()(),e.TgZ(79,"div",22)(80,"div",23)(81,"p",2),e._uU(82,"Fecha entrega"),e.qZA(),e.TgZ(83,"input",27),e.NdJ("ngModelChange",function(a){return n.newOrderInfo.fecha_entrega=a}),e.qZA()(),e.TgZ(84,"div",23)(85,"p",2),e._uU(86,"Hora"),e.qZA(),e.TgZ(87,"input",28),e.NdJ("ngModelChange",function(a){return n.newOrderInfo.hora=a}),e.qZA()()(),e.TgZ(88,"div",22)(89,"div",23)(90,"p",2),e._uU(91,"Nombre Receptor"),e.qZA(),e.TgZ(92,"input",29),e.NdJ("ngModelChange",function(a){return n.newOrderInfo.nombre_receptor=a}),e.qZA()(),e.TgZ(93,"div",23)(94,"p",2),e._uU(95,"Telefono Receptor"),e.qZA(),e.TgZ(96,"input",30),e.NdJ("ngModelChange",function(a){return n.newOrderInfo.telefono_receptor=a}),e.qZA()()(),e.YNc(97,be,3,1,"div",31),e.TgZ(98,"div",15)(99,"p",2),e._uU(100,"Mensaje Tarjeta"),e.qZA(),e.TgZ(101,"textarea",32),e.NdJ("ngModelChange",function(a){return n.newOrderInfo.mensaje_tarjeta=a}),e.qZA()(),e.TgZ(102,"div",15)(103,"p",2),e._uU(104,"Comentario"),e.qZA(),e.TgZ(105,"textarea",33),e.NdJ("ngModelChange",function(a){return n.newOrderInfo.comentarios=a}),e.qZA()()(),e.TgZ(106,"div",34)(107,"button",35,36),e._uU(109,"Cerrar"),e.qZA(),e.TgZ(110,"button",37),e._uU(111,"Crear Pedido"),e.qZA()()()()(),e.TgZ(112,"div",38)(113,"div",9)(114,"form",10),e.NdJ("submit",function(){return n.editOrder()}),e.TgZ(115,"div",11)(116,"h1",39),e._uU(117),e.qZA(),e._UZ(118,"button",13),e.qZA(),e.TgZ(119,"div",14)(120,"div",15)(121,"p",2),e._uU(122,"Cliente"),e.qZA(),e.TgZ(123,"select",40),e.NdJ("ngModelChange",function(a){return n.editOrderInfo.cliente_id=a}),e.YNc(124,Te,2,3,"option",17),e.qZA(),e.TgZ(125,"button",18),e.NdJ("click",function(){return n.changeBoolClient()}),e._uU(126," Agregar cliente "),e.qZA(),e.YNc(127,ve,12,3,"div",19),e.qZA(),e.TgZ(128,"div",15)(129,"p",2),e._uU(130,"Fecha del pedido"),e.qZA(),e.TgZ(131,"input",41),e.NdJ("ngModelChange",function(a){return n.editOrderInfo.fecha_pedido=a}),e.qZA()(),e.TgZ(132,"div",15)(133,"p",2),e._uU(134,"Producto"),e.qZA(),e.TgZ(135,"input",42),e.NdJ("ngModelChange",function(a){return n.editOrderInfo.producto=a}),e.qZA()(),e.TgZ(136,"div",22)(137,"div",23)(138,"p",2),e._uU(139,"Costo"),e.qZA(),e.TgZ(140,"input",43),e.NdJ("ngModelChange",function(a){return n.editOrderInfo.costo=a}),e.qZA()(),e.TgZ(141,"div",23)(142,"p",2),e._uU(143,"Tipo de entrega"),e.qZA(),e.TgZ(144,"select",44),e.NdJ("ngModelChange",function(a){return n.editOrderInfo.tipo_entrega=a}),e.TgZ(145,"option",45),e._uU(146,"Recoger en Tienda"),e.qZA(),e.TgZ(147,"option",46),e._uU(148,"Envio a domicilio"),e.qZA()()()(),e.TgZ(149,"div",22)(150,"div",23)(151,"p",2),e._uU(152,"Fecha entrega"),e.qZA(),e.TgZ(153,"input",47),e.NdJ("ngModelChange",function(a){return n.editOrderInfo.fecha_entrega=a}),e.qZA()(),e.TgZ(154,"div",23)(155,"p",2),e._uU(156,"Hora"),e.qZA(),e.TgZ(157,"input",48),e.NdJ("ngModelChange",function(a){return n.editOrderInfo.hora=a}),e.qZA()()(),e.TgZ(158,"div",22)(159,"div",23)(160,"p",2),e._uU(161,"Nombre Receptor"),e.qZA(),e.TgZ(162,"input",49),e.NdJ("ngModelChange",function(a){return n.editOrderInfo.nombre_receptor=a}),e.qZA()(),e.TgZ(163,"div",23)(164,"p",2),e._uU(165,"Telefono Receptor"),e.qZA(),e.TgZ(166,"input",50),e.NdJ("ngModelChange",function(a){return n.editOrderInfo.telefono_receptor=a}),e.qZA()()(),e.YNc(167,Ce,2,1,"div",31),e.TgZ(168,"div",15)(169,"p",2),e._uU(170,"Mensaje Tarjeta"),e.qZA(),e.TgZ(171,"textarea",51),e.NdJ("ngModelChange",function(a){return n.editOrderInfo.mensaje_tarjeta=a}),e.qZA()(),e.TgZ(172,"div",15)(173,"p",2),e._uU(174,"Comentario"),e.qZA(),e.TgZ(175,"textarea",52),e.NdJ("ngModelChange",function(a){return n.editOrderInfo.comentarios=a}),e.qZA()()(),e.TgZ(176,"div",34)(177,"button",35,36),e._uU(179,"Cerrar"),e.qZA(),e.TgZ(180,"button",37),e._uU(181,"Actualizar Pedido"),e.qZA()()()()(),e.TgZ(182,"div",53)(183,"div",54)(184,"div",55)(185,"div",11)(186,"h1",56),e._uU(187,"Pagos"),e.qZA(),e._UZ(188,"button",13),e.qZA(),e.TgZ(189,"div",14)(190,"table",57)(191,"thead")(192,"tr",5)(193,"th",6),e._uU(194,"Producto"),e.qZA(),e.TgZ(195,"th",6),e._uU(196,"Pedido"),e.qZA(),e.TgZ(197,"th",6),e._uU(198,"Forma de pago"),e.qZA(),e.TgZ(199,"th",6),e._uU(200,"Fecha"),e.qZA(),e.TgZ(201,"th",6),e._uU(202,"Importe"),e.qZA(),e.TgZ(203,"th",6),e._uU(204,"Registro"),e.qZA()()(),e.TgZ(205,"tbody"),e.YNc(206,Me,12,5,"tr",7),e.qZA()()()()()(),e.TgZ(207,"div",58)(208,"div",9)(209,"form",10),e.NdJ("submit",function(){return n.createPayToOrder()}),e.TgZ(210,"div",11)(211,"h1",59),e._uU(212,"Generar pago"),e.qZA(),e._UZ(213,"button",13),e.qZA(),e.TgZ(214,"div",14)(215,"div",15)(216,"p"),e._uU(217),e.qZA()(),e.TgZ(218,"div",15)(219,"p",2),e._uU(220,"Forma de pago"),e.qZA(),e.TgZ(221,"select",60),e.NdJ("ngModelChange",function(a){return n.formAddPay.forma_de_pago_id=a}),e.YNc(222,qe,2,2,"option",17),e.qZA()(),e.TgZ(223,"div",15)(224,"p",2),e._uU(225,"Fecha"),e.qZA(),e.TgZ(226,"input",61),e.NdJ("ngModelChange",function(a){return n.formAddPay.fecha=a}),e.qZA()(),e.TgZ(227,"div",15)(228,"p",2),e._uU(229,"Importe"),e.qZA(),e.TgZ(230,"input",62),e.NdJ("ngModelChange",function(a){return n.formAddPay.importe=a}),e.qZA()()(),e.TgZ(231,"div",34)(232,"button",35),e._uU(233,"Cerrar"),e.qZA(),e.TgZ(234,"button",63),e.NdJ("click",function(){return n.createPayToOrder()}),e._uU(235," Generar Pago "),e.qZA()()()()(),e.TgZ(236,"div",64)(237,"div",9)(238,"div",55)(239,"div",11),e._UZ(240,"button",13),e.qZA(),e.TgZ(241,"div",14)(242,"p",2),e._uU(243,"Seleccione una opcion"),e.qZA(),e.TgZ(244,"select",65),e.NdJ("ngModelChange",function(a){return n.editOrderInfo.status=a}),e.TgZ(245,"option",66),e._uU(246,"Por Pagar"),e.qZA(),e.TgZ(247,"option",67),e._uU(248,"Pagado"),e.qZA(),e.TgZ(249,"option",68),e._uU(250,"Por Elaborar"),e.qZA(),e.TgZ(251,"option",69),e._uU(252,"Elaborado"),e.qZA(),e.TgZ(253,"option",70),e._uU(254,"En ruta"),e.qZA()()(),e.TgZ(255,"div",34)(256,"button",35),e._uU(257,"Cerrar"),e.qZA(),e.TgZ(258,"button",71),e.NdJ("click",function(){return n.editOrder()}),e._uU(259," Actualizar "),e.qZA()()()()(),e.TgZ(260,"div",72)(261,"div",9)(262,"div",55)(263,"div",11)(264,"h1",73),e._uU(265,"Eliminar Pedido"),e.qZA(),e._UZ(266,"button",13),e.qZA(),e.TgZ(267,"div",14)(268,"p"),e._uU(269,"Estas seguro de eliminar este Pedido?"),e.qZA()(),e.TgZ(270,"div",34)(271,"button",35),e._uU(272,"Cerrar"),e.qZA(),e.TgZ(273,"button",71),e.NdJ("click",function(){return n.deleteOrder()}),e._uU(274," Eliminar Pedido "),e.qZA()()()()()),2&t&&(e.xp6(7),e.Q6J("dtOptions",n.dtOptions)("dtTrigger",n.dtTrigger),e.xp6(34),e.Q6J("ngForOf",n.orders),e.xp6(12),e.Q6J("ngModel",n.newOrderInfo.cliente_id)("value",n.newOrderInfo.cliente_id),e.xp6(1),e.Q6J("ngForOf",n.clients),e.xp6(3),e.Q6J("ngIf",n.isCreatingClient),e.xp6(4),e.Q6J("ngModel",n.newOrderInfo.fecha_pedido),e.xp6(4),e.Q6J("ngModel",n.newOrderInfo.producto),e.xp6(5),e.Q6J("ngModel",n.newOrderInfo.costo),e.xp6(4),e.Q6J("ngModel",n.newOrderInfo.tipo_entrega)("value",n.newOrderInfo.tipo_entrega),e.xp6(1),e.Q6J("value",0),e.xp6(2),e.Q6J("value",1),e.xp6(6),e.Q6J("min",n.newOrderInfo.fecha_pedido)("ngModel",n.newOrderInfo.fecha_entrega),e.xp6(4),e.Q6J("ngModel",n.newOrderInfo.hora),e.xp6(5),e.Q6J("ngModel",n.newOrderInfo.nombre_receptor),e.xp6(4),e.Q6J("ngModel",n.newOrderInfo.telefono_receptor),e.xp6(1),e.Q6J("ngIf","1"==n.newOrderInfo.tipo_entrega),e.xp6(4),e.Q6J("ngModel",n.newOrderInfo.mensaje_tarjeta),e.xp6(4),e.Q6J("ngModel",n.newOrderInfo.comentarios),e.xp6(12),e.hij("Editar Pedido #",n.editOrderInfo.pedido_id,""),e.xp6(6),e.Q6J("ngModel",n.editOrderInfo.cliente_id)("value",n.editOrderInfo.cliente_id),e.xp6(1),e.Q6J("ngForOf",n.clients),e.xp6(3),e.Q6J("ngIf",n.isCreatingClient),e.xp6(4),e.Q6J("ngModel",n.editOrderInfo.fecha_pedido),e.xp6(4),e.Q6J("ngModel",n.editOrderInfo.producto),e.xp6(5),e.Q6J("ngModel",n.editOrderInfo.costo),e.xp6(4),e.Q6J("ngModel",n.editOrderInfo.tipo_entrega),e.xp6(1),e.s9C("selected","0"==n.editOrderInfo.tipo_entrega),e.xp6(2),e.s9C("selected","1"==n.editOrderInfo.tipo_entrega),e.xp6(6),e.Q6J("ngModel",n.editOrderInfo.fecha_entrega),e.xp6(4),e.Q6J("ngModel",n.editOrderInfo.hora),e.xp6(5),e.Q6J("ngModel",n.editOrderInfo.nombre_receptor),e.xp6(4),e.Q6J("ngModel",n.editOrderInfo.telefono_receptor),e.xp6(1),e.Q6J("ngIf","1"==n.editOrderInfo.tipo_entrega),e.xp6(4),e.Q6J("ngModel",n.editOrderInfo.mensaje_tarjeta),e.xp6(4),e.Q6J("ngModel",n.editOrderInfo.comentarios),e.xp6(31),e.Q6J("ngForOf",n.paymenthsPerId),e.xp6(11),e.Oqu(n.formAddPay.nombre),e.xp6(4),e.Q6J("ngModel",n.formAddPay.forma_de_pago_id)("value",n.formAddPay.forma_de_pago_id),e.xp6(1),e.Q6J("ngForOf",n.payMethods),e.xp6(4),e.Q6J("ngModel",n.formAddPay.fecha),e.xp6(4),e.Q6J("ngModel",n.formAddPay.importe),e.xp6(14),e.Q6J("ngModel",n.editOrderInfo.status)("value",n.editOrderInfo.status))},dependencies:[u.sg,u.O5,s.YN,s.Kr,s.Fj,s.wV,s.EJ,s.JJ,s.JL,s.Q7,s.On,s.F,m,J],styles:[".table_content_td[_ngcontent-%COMP%]{font-size:10px;padding:1px!important}.btn_cont[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2px}.btn_actions[_ngcontent-%COMP%]{width:40px;font-size:9px;padding:2px 4px!important;border-radius:3px}.more_info[_ngcontent-%COMP%]{max-width:30px}"]}),d})(),Ae=(()=>{var i;class d{getAllOrders(){return(0,l.Z)(function*(){return(yield p.Z.get(`${g.T.baseUrl}ctl_pedidos?api_key=gkq7MTv7alzg5vlqNvVlpg2japI3B5dD`)).data})()}getAllClients(){return(0,l.Z)(function*(){return(yield p.Z.get(`${g.T.baseUrl}cat_clientes?api_key=gkq7MTv7alzg5vlqNvVlpg2japI3B5dD`)).data})()}getAllPaymenthMethods(){return(0,l.Z)(function*(){return(yield p.Z.get(`${g.T.baseUrl}cat_forma_de_pago?api_key=gkq7MTv7alzg5vlqNvVlpg2japI3B5dD`)).data})()}getAllPaymenthsPerId(t){return(0,l.Z)(function*(){return(yield p.Z.get(`${g.T.baseUrl}ctl_ingresos?pedido_id=${t}&api_key=gkq7MTv7alzg5vlqNvVlpg2japI3B5dD`)).data})()}createClient(t){return(0,l.Z)(function*(){return(yield p.Z.post(`${g.T.baseUrl}cat_clientes?api_key=gkq7MTv7alzg5vlqNvVlpg2japI3B5dD&nombre=${t.nombre}&telefono=${t.telefono}&email=${t.email}&usuario_id=${t.usuario_id}`,{})).data})()}createOrder(t){return(0,l.Z)(function*(){return(yield p.Z.post(`${g.T.baseUrl}ctl_pedidos?cliente_id=${t.cliente_id}&anticipo=${t.anticipo}&costo=${t.costo}&status=${t.status}&fecha_pedido=${t.fecha_pedido}&usuario_id=${t.usuario_id}&producto=${t.producto}&tipo_entrega=${t.tipo_entrega}&fecha_entrega=${t.fecha_entrega}&hora=${t.hora}&nombre_receptor=${t.nombre_receptor}&telefono_receptor=${t.telefono_receptor}&direccion=${t.direccion}&mensaje_tarjeta=${t.mensaje_tarjeta}&comentarios=${t.comentarios}&api_key=gkq7MTv7alzg5vlqNvVlpg2japI3B5dD`,{})).data})()}editOrder(t){return(0,l.Z)(function*(){return(yield p.Z.put(`${g.T.baseUrl}ctl_pedidos/${t.pedido_id}?pedido_id=${t.pedido_id}&cliente_id=${t.cliente_id}&anticipo=${t.anticipo}&costo=${t.costo}&status=${t.status}&fecha_pedido=${t.fecha_pedido}&usuario_id=${t.usuario_id}&producto=${t.producto}&tipo_entrega=${t.tipo_entrega}&fecha_entrega=${t.fecha_entrega}&hora=${t.hora}&nombre_receptor=${t.nombre_receptor}&telefono_receptor=${t.telefono_receptor}&direccion=${t.direccion}&mensaje_tarjeta=${t.mensaje_tarjeta}&comentarios=${t.comentarios}&api_key=gkq7MTv7alzg5vlqNvVlpg2japI3B5dD`,{})).data})()}payOrder(t){return(0,l.Z)(function*(){return(yield p.Z.post(`${g.T.baseUrl}ctl_ingresos?pedido_id=${t.pedido_id}&forma_de_pago_id=${t.forma_de_pago_id}&fecha=${t.fecha}&importe=${t.importe}&usuario_id=${t.usuario_id}&api_key=gkq7MTv7alzg5vlqNvVlpg2japI3B5dD`,{})).data})()}deleteOrder(t){return(0,l.Z)(function*(){return(yield p.Z.delete(`${g.T.baseUrl}ctl_pedidos/${t}?api_key=gkq7MTv7alzg5vlqNvVlpg2japI3B5dD`)).data})()}}return(i=d).\u0275fac=function(t){return new(t||i)},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),d})();const Ue=["closeModal"];function Pe(i,d){if(1&i&&(e.TgZ(0,"tr")(1,"td",68),e._uU(2),e.qZA(),e.TgZ(3,"td",69),e._uU(4),e.qZA(),e.TgZ(5,"td",69),e._uU(6),e.qZA(),e.TgZ(7,"td",69),e._uU(8),e.qZA(),e.TgZ(9,"td",69),e._uU(10),e.qZA(),e.TgZ(11,"td",69),e._uU(12),e.qZA(),e.TgZ(13,"td",69),e._uU(14),e.qZA(),e.TgZ(15,"td",69),e._uU(16),e.qZA(),e.TgZ(17,"td",69),e._uU(18),e.qZA(),e.TgZ(19,"td",69),e._uU(20),e.qZA(),e.TgZ(21,"td",69),e._uU(22),e.qZA(),e.TgZ(23,"td",69),e._uU(24),e.qZA(),e.TgZ(25,"td",70),e._uU(26),e.qZA()()),2&i){const o=d.$implicit;e.xp6(2),e.Oqu(o.id),e.xp6(2),e.Oqu(o.cliente.nombre),e.xp6(2),e.Oqu(o.productos.producto),e.xp6(2),e.Oqu(o.fecha_pedido),e.xp6(2),e.Oqu(o.productos.costo),e.xp6(2),e.Oqu(o.anticipo),e.xp6(2),e.Oqu(o.saldo),e.xp6(2),e.Oqu(o.productos.fecha_entrega),e.xp6(2),e.Oqu(o.productos.hora),e.xp6(2),e.Oqu(o.productos.tipo_entrega),e.xp6(2),e.Oqu(o.productos.nombre_receptor),e.xp6(2),e.HOy("Telefono: ",o.productos.telefono_receptor,", Direccion: ",o.productos.direccion,", Mensaje: ",o.productos.mensaje_tarjeta,", Comentarios: ",o.productos.comentarios,""),e.xp6(2),e.Oqu(o.productos.repartidor)}}function Oe(i,d){if(1&i&&(e.TgZ(0,"option",23),e._uU(1),e.qZA()),2&i){const o=d.$implicit;e.Q6J("value",o.id),e.xp6(1),e.Oqu(o.nombre)}}function xe(i,d){if(1&i){const o=e.EpF();e.TgZ(0,"button",71),e.NdJ("click",function(){e.CHM(o);const n=e.oxw();return e.KtG(n.openGoogleMaps())}),e._uU(1," Ver en el mapa "),e.qZA()}}function Je(i,d){if(1&i&&(e.TgZ(0,"option",23),e._uU(1),e.qZA()),2&i){const o=d.$implicit;e.Q6J("value",o.id),e.xp6(1),e.Oqu(o.nombre)}}function Ne(i,d){if(1&i&&(e.TgZ(0,"tr")(1,"td",69),e._uU(2),e.qZA(),e.TgZ(3,"td",69),e._uU(4),e.qZA(),e.TgZ(5,"td",69),e._uU(6),e.qZA(),e.TgZ(7,"td",69),e._uU(8),e.qZA(),e.TgZ(9,"td",69),e._uU(10),e.qZA(),e._UZ(11,"td",69),e.qZA()),2&i){const o=d.$implicit,t=e.oxw();e.xp6(2),e.Oqu(t.productClicked),e.xp6(2),e.Oqu(o.pedido.id),e.xp6(2),e.Oqu(o.forma_de_pago.nombre),e.xp6(2),e.Oqu(o.fecha),e.xp6(2),e.hij("$",o.importe,"")}}function we(i,d){if(1&i&&(e.TgZ(0,"option",23),e._uU(1),e.qZA()),2&i){const o=d.$implicit;e.Q6J("value",o.id),e.xp6(1),e.Oqu(o.nombre)}}const Ie=[{path:"",component:E,children:[{path:"inicio",component:k},{path:"usuarios",component:G},{path:"clientes",component:H},{path:"proveedores",component:R},{path:"formas_de_pago",component:ne},{path:"ingresos",component:re},{path:"egresos",component:pe},{path:"saldos",component:ge},{path:"pedidos",component:ye},{path:"historial-pedidos",component:(()=>{var i;class d{constructor(t){this.services=t,this.orders=[],this.ordersPag=[[]],this.resultsFilter=[],this.quantityShow=20,this.searchText="",this.clients=[],this.payMethods=[],this.idDelete="",this.paymenthsPerId=[],this.autocomple=!1,this.urlMaps="",this.clientForm={nombre:"",telefono:"",email:"",usuario_id:""},this.formAddPay={nombre:"",pedido_id:"",forma_de_pago_id:"",fecha:"",importe:"",usuario_id:""},this.productClicked="",this.newOrderInfo={cliente_id:"",anticipo:"0",costo:"",status:"0",fecha_pedido:"",usuario_id:"",producto:"",tipo_entrega:"0",fecha_entrega:"",hora:"",nombre_receptor:"",telefono_receptor:"",direccion:"",mensaje_tarjeta:"",comentarios:""},this.editOrderInfo={pedido_id:"",cliente_id:"",anticipo:"0",costo:"",status:"0",fecha_pedido:"",usuario_id:"",producto:"",tipo_entrega:"0",fecha_entrega:"",hora:"",nombre_receptor:"",telefono_receptor:"",direccion:"",mensaje_tarjeta:"",comentarios:""},this.dtOptions={},this.dtTrigger=new b.x}ngOnDestroy(){this.dtTrigger.unsubscribe()}selectOrderToPay(t){this.formAddPay={...this.formAddPay,pedido_id:t.id.toString(),nombre:`${t.id} - ${t.cliente.nombre}`}}ngOnInit(){let t=localStorage.getItem("USER");t=JSON.parse(t),t&&(this.newOrderInfo.usuario_id=t.id,this.editOrderInfo.usuario_id=t.id,this.clientForm.usuario_id=t.id,this.formAddPay.usuario_id=t.id,this.getAllClients(),this.getAllOrders(),this.getAllPayMethods(),this.dtOptions={pagingType:"full_numbers",language:{url:"//cdn.datatables.net/plug-ins/1.10.15/i18n/Spanish.json"}})}selectOrderInfo(t){this.editOrderInfo={...this.editOrderInfo,anticipo:t.anticipo,cliente_id:t.cliente_id.toString(),comentarios:t.productos.comentarios,costo:t.costo,direccion:t.productos.direccion,fecha_entrega:t.productos.fecha_entrega,fecha_pedido:t.fecha_pedido,hora:t.productos.hora,mensaje_tarjeta:t.productos.mensaje_tarjeta,nombre_receptor:t.productos.nombre_receptor,pedido_id:t.id.toString(),producto:t.productos.producto,status:t.status.toString(),telefono_receptor:t.productos.telefono_receptor,tipo_entrega:t.productos.tipo_entrega}}getAllOrders(){var t=this;return(0,l.Z)(function*(){try{let n=yield t.services.getAllOrders(),r=n.data.filter(a=>null!==a.productos&&5===a.productos.status_proceso);t.orders=r,t.resultsFilter=r,t.dtTrigger.next(n.data)}catch(n){c().fire({icon:"error",title:"Oops...",text:n.response.data.notificacion.mensaje})}})()}getAllPayMethods(){var t=this;return(0,l.Z)(function*(){try{let n=yield t.services.getAllPaymenthMethods();t.payMethods=n.data}catch(n){c().fire({icon:"error",title:"Oops...",text:n.response.data.notificacion.mensaje})}})()}getAllClients(){var t=this;return(0,l.Z)(function*(){try{let n=yield t.services.getAllClients();t.clients=n.data}catch(n){c().fire({icon:"error",title:"Oops...",text:n.response.data.notificacion.mensaje})}})()}getPaymenthsOrders(t,n){var r=this;return(0,l.Z)(function*(){r.productClicked=n;try{let a=yield r.services.getAllPaymenthsPerId(t);r.paymenthsPerId=a.data}catch(a){c().fire({icon:"error",title:"Oops...",text:a.response.data.notificacion.mensaje})}})()}createOrder(){var t=this;return(0,l.Z)(function*(){try{yield t.services.createOrder(t.newOrderInfo),t.closeModal?.nativeElement.click(),location.reload()}catch(n){c().fire({icon:"error",title:"Oops...",text:n.response.data.notificacion.mensaje})}})()}editOrder(){var t=this;return(0,l.Z)(function*(){try{yield t.services.editOrder(t.editOrderInfo),t.closeModal?.nativeElement.click(),location.reload()}catch(n){c().fire({icon:"error",title:"Oops...",text:n.response.data.notificacion.mensaje})}})()}createPayToOrder(){var t=this;return(0,l.Z)(function*(){try{yield t.services.payOrder(t.formAddPay),t.closeModal?.nativeElement.click(),location.reload()}catch(n){c().fire({icon:"error",title:"Oops...",text:n.response.data.notificacion.mensaje})}})()}deleteOrder(){var t=this;return(0,l.Z)(function*(){try{yield t.services.deleteOrder(t.idDelete),t.closeModal?.nativeElement.click(),location.reload()}catch(n){c().fire({icon:"error",title:"Oops...",text:n.response.data.notificacion.mensaje})}})()}handlePlace(t){this.newOrderInfo.direccion=t.address,this.autocomple=!0,this.urlMaps=t.url}openGoogleMaps(){window.open(this.urlMaps,"_blank")}}return(i=d).\u0275fac=function(t){return new(t||i)(e.Y36(Ae))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-history-page"]],viewQuery:function(t,n){if(1&t&&(e.Gf(m,5),e.Gf(Ue,5)),2&t){let r;e.iGM(r=e.CRH())&&(n.dtElement=r.first),e.iGM(r=e.CRH())&&(n.closeModal=r.first)}},decls:270,vars:49,consts:[[1,"py-5","px-2"],[1,"d-flex","justify-content-between","align-items-center","mb-2"],[1,"text-secondary"],["datatable","",1,"table","border","table-striped","table-bordered","table_users",3,"dtOptions","dtTrigger"],[1,"border"],["scope","col",1,"table_content_td","text-secondary"],[4,"ngFor","ngForOf"],["id","newOrderModal","tabindex","-1","aria-labelledby","newOrderModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],["ngNativeValidate","",1,"modal-content",3,"submit"],[1,"modal-header"],["id","newOrderModalLabel",1,"modal-title","fs-5"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"mb-2"],["required","","name","selectClientNew",1,"form-control",3,"ngModel","value","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["name","fecha_pedidoNew","type","date","required","",1,"form-control",3,"ngModel","ngModelChange"],["name","product","type","text","required","",1,"form-control",3,"ngModel","ngModelChange"],[1,"mb-2","row","row-cols-md-2"],[1,""],["name","cost","type","number","required","",1,"form-control",3,"ngModel","ngModelChange"],["name","selectClientNew",1,"form-control",3,"ngModel","value","ngModelChange"],[3,"value"],["name","fe","type","date",1,"form-control",3,"ngModel","ngModelChange"],["name","hor","type","time",1,"form-control",3,"ngModel","ngModelChange"],["name","nr","type","text",1,"form-control",3,"ngModel","ngModelChange"],["placeholder","Direccion",3,"placeChanged"],["class","btn btn-primary mt-2",3,"click",4,"ngIf"],["rows","5","name","addres","type","text",1,"form-control",3,"ngModel","ngModelChange"],["rows","5","name","comment","type","text",1,"form-control",3,"ngModel","ngModelChange"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["closeModal",""],["type","submit",1,"btn","btn-primary"],["id","editOrderModal","tabindex","-1","aria-labelledby","editOrderModalLabel","aria-hidden","true",1,"modal","fade"],["id","editOrderModalLabel",1,"modal-title","fs-5"],["required","","name","selectClientEdit",1,"form-control",3,"ngModel","value","ngModelChange"],["name","fecha_pedidoEdit","type","date","required","",1,"form-control",3,"ngModel","ngModelChange"],["name","productEdit","type","text","required","",1,"form-control",3,"ngModel","ngModelChange"],["name","costEdit","type","number","required","",1,"form-control",3,"ngModel","ngModelChange"],["name","selectClientEdit",1,"form-control",3,"ngModel","value","ngModelChange"],["name","feEdit","type","date",1,"form-control",3,"ngModel","ngModelChange"],["name","horEdit","type","time",1,"form-control",3,"ngModel","ngModelChange"],["name","nrEdit","type","text",1,"form-control",3,"ngModel","ngModelChange"],["name","addresEdit","type","text",1,"form-control",3,"ngModel","ngModelChange"],["rows","5","name","addresEdit","type","text",1,"form-control",3,"ngModel","ngModelChange"],["rows","5","name","commentEdit","type","text",1,"form-control",3,"ngModel","ngModelChange"],["id","paymenthsTableModal","tabindex","-1","aria-labelledby","paymenthsTableModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-content"],["id","paymenthsTableModalLabel",1,"modal-title","fs-5"],[1,"table","border","table-striped","table-bordered","table_users"],["id","payOrderModal","tabindex","-1","aria-labelledby","payOrderModalLabel","aria-hidden","true",1,"modal","fade"],["id","payOrderModalLabel",1,"modal-title","fs-5"],["required","","name","selectPayMethod",1,"form-control",3,"ngModel","value","ngModelChange"],["name","fecha_pedidoPay","type","date","required","",1,"form-control",3,"ngModel","ngModelChange"],["name","importePay","type","number","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","button",1,"btn","btn-primary"],["id","avanzarModal","tabindex","-1","aria-labelledby","avanzarModalLabel","aria-hidden","true",1,"modal","fade"],[1,"form-control",3,"ngModel","value","ngModelChange"],["value","0"],["value","1"],["value","2"],["value","3"],["value","4"],["type","button","data-bs-dismiss","modal",1,"btn","btn-primary",3,"click"],["id","deleteIncomeModal","tabindex","-1","aria-labelledby","deleteIncomeModalLabel","aria-hidden","true",1,"modal","fade"],["id","deleteIncomeModalLabel",1,"modal-title","fs-5"],[1,"table_content_td","text-secondary"],[1,"table_content_td","more_info","text-secondary"],[1,"table_content_td","more_infotext-secondary"],[1,"btn","btn-primary","mt-2",3,"click"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h2",2),e._uU(3,"Historial de Pedidos"),e.qZA()(),e.TgZ(4,"table",3)(5,"thead")(6,"tr",4)(7,"th",5),e._uU(8,"Pedido"),e.qZA(),e.TgZ(9,"th",5),e._uU(10,"Cliente"),e.qZA(),e.TgZ(11,"th",5),e._uU(12,"Producto"),e.qZA(),e.TgZ(13,"th",5),e._uU(14,"Fecha pedido"),e.qZA(),e.TgZ(15,"th",5),e._uU(16,"Precio"),e.qZA(),e.TgZ(17,"th",5),e._uU(18,"Anticipo"),e.qZA(),e.TgZ(19,"th",5),e._uU(20,"Saldo"),e.qZA(),e.TgZ(21,"th",5),e._uU(22,"Fecha de entrega"),e.qZA(),e.TgZ(23,"th",5),e._uU(24,"Hora"),e.qZA(),e.TgZ(25,"th",5),e._uU(26,"Tipo entrega"),e.qZA(),e.TgZ(27,"th",5),e._uU(28,"Nombre Receptor"),e.qZA(),e.TgZ(29,"th",5),e._uU(30,"Datos entrega"),e.qZA(),e.TgZ(31,"th",5),e._uU(32,"Repartidor"),e.qZA()()(),e.TgZ(33,"tbody"),e.YNc(34,Pe,27,16,"tr",6),e.qZA()()(),e.TgZ(35,"div",7)(36,"div",8)(37,"form",9),e.NdJ("submit",function(){return n.createOrder()}),e.TgZ(38,"div",10)(39,"h1",11),e._uU(40,"Agregar Pedido"),e.qZA(),e._UZ(41,"button",12),e.qZA(),e.TgZ(42,"div",13)(43,"div",14)(44,"p",2),e._uU(45,"Cliente"),e.qZA(),e.TgZ(46,"select",15),e.NdJ("ngModelChange",function(a){return n.newOrderInfo.cliente_id=a}),e.YNc(47,Oe,2,2,"option",16),e.qZA()(),e.TgZ(48,"div",14)(49,"p",2),e._uU(50,"Fecha del pedido"),e.qZA(),e.TgZ(51,"input",17),e.NdJ("ngModelChange",function(a){return n.newOrderInfo.fecha_pedido=a}),e.qZA()(),e.TgZ(52,"div",14)(53,"p",2),e._uU(54,"Producto"),e.qZA(),e.TgZ(55,"input",18),e.NdJ("ngModelChange",function(a){return n.newOrderInfo.producto=a}),e.qZA()(),e.TgZ(56,"div",19)(57,"div",20)(58,"p",2),e._uU(59,"Costo"),e.qZA(),e.TgZ(60,"input",21),e.NdJ("ngModelChange",function(a){return n.newOrderInfo.costo=a}),e.qZA()(),e.TgZ(61,"div",20)(62,"p",2),e._uU(63,"Tipo de entrega"),e.qZA(),e.TgZ(64,"select",22),e.NdJ("ngModelChange",function(a){return n.newOrderInfo.tipo_entrega=a}),e.TgZ(65,"option",23),e._uU(66,"Recoger en Tienda"),e.qZA(),e.TgZ(67,"option",23),e._uU(68,"Envio a domicilio"),e.qZA()()()(),e.TgZ(69,"div",19)(70,"div",20)(71,"p",2),e._uU(72,"Fecha entrega"),e.qZA(),e.TgZ(73,"input",24),e.NdJ("ngModelChange",function(a){return n.newOrderInfo.fecha_entrega=a}),e.qZA()(),e.TgZ(74,"div",20)(75,"p",2),e._uU(76,"Hora"),e.qZA(),e.TgZ(77,"input",25),e.NdJ("ngModelChange",function(a){return n.newOrderInfo.hora=a}),e.qZA()()(),e.TgZ(78,"div",19)(79,"div",20)(80,"p",2),e._uU(81,"Nombre Receptopr"),e.qZA(),e.TgZ(82,"input",26),e.NdJ("ngModelChange",function(a){return n.newOrderInfo.nombre_receptor=a}),e.qZA()(),e.TgZ(83,"div",20)(84,"p",2),e._uU(85,"Telefono Receptor"),e.qZA(),e.TgZ(86,"input",26),e.NdJ("ngModelChange",function(a){return n.newOrderInfo.telefono_receptor=a}),e.qZA()()(),e.TgZ(87,"div",14)(88,"google-autocomplete",27),e.NdJ("placeChanged",function(a){return n.handlePlace(a)}),e.qZA(),e.YNc(89,xe,2,0,"button",28),e.qZA(),e.TgZ(90,"div",14)(91,"p",2),e._uU(92,"Mensaje Tarjeta"),e.qZA(),e.TgZ(93,"textarea",29),e.NdJ("ngModelChange",function(a){return n.newOrderInfo.mensaje_tarjeta=a}),e.qZA()(),e.TgZ(94,"div",14)(95,"p",2),e._uU(96,"Comentario"),e.qZA(),e.TgZ(97,"textarea",30),e.NdJ("ngModelChange",function(a){return n.newOrderInfo.comentarios=a}),e.qZA()()(),e.TgZ(98,"div",31)(99,"button",32,33),e._uU(101,"Cerrar"),e.qZA(),e.TgZ(102,"button",34),e._uU(103,"Crear Pedido"),e.qZA()()()()(),e.TgZ(104,"div",35)(105,"div",8)(106,"form",9),e.NdJ("submit",function(){return n.editOrder()}),e.TgZ(107,"div",10)(108,"h1",36),e._uU(109,"Editar Pedido"),e.qZA(),e._UZ(110,"button",12),e.qZA(),e.TgZ(111,"div",13)(112,"div",14)(113,"p",2),e._uU(114,"Cliente"),e.qZA(),e.TgZ(115,"select",37),e.NdJ("ngModelChange",function(a){return n.editOrderInfo.cliente_id=a}),e.YNc(116,Je,2,2,"option",16),e.qZA()(),e.TgZ(117,"div",14)(118,"p",2),e._uU(119,"Fecha del pedido"),e.qZA(),e.TgZ(120,"input",38),e.NdJ("ngModelChange",function(a){return n.editOrderInfo.fecha_pedido=a}),e.qZA()(),e.TgZ(121,"div",14)(122,"p",2),e._uU(123,"Producto"),e.qZA(),e.TgZ(124,"input",39),e.NdJ("ngModelChange",function(a){return n.editOrderInfo.producto=a}),e.qZA()(),e.TgZ(125,"div",19)(126,"div",20)(127,"p",2),e._uU(128,"Costo"),e.qZA(),e.TgZ(129,"input",40),e.NdJ("ngModelChange",function(a){return n.editOrderInfo.costo=a}),e.qZA()(),e.TgZ(130,"div",20)(131,"p",2),e._uU(132,"Tipo de entrega"),e.qZA(),e.TgZ(133,"select",41),e.NdJ("ngModelChange",function(a){return n.editOrderInfo.tipo_entrega=a}),e.TgZ(134,"option",23),e._uU(135,"Recoger en Tienda"),e.qZA(),e.TgZ(136,"option",23),e._uU(137,"Envio a domicilio"),e.qZA()()()(),e.TgZ(138,"div",19)(139,"div",20)(140,"p",2),e._uU(141,"Fecha entrega"),e.qZA(),e.TgZ(142,"input",42),e.NdJ("ngModelChange",function(a){return n.editOrderInfo.fecha_entrega=a}),e.qZA()(),e.TgZ(143,"div",20)(144,"p",2),e._uU(145,"Hora"),e.qZA(),e.TgZ(146,"input",43),e.NdJ("ngModelChange",function(a){return n.editOrderInfo.hora=a}),e.qZA()()(),e.TgZ(147,"div",19)(148,"div",20)(149,"p",2),e._uU(150,"Nombre Receptopr"),e.qZA(),e.TgZ(151,"input",44),e.NdJ("ngModelChange",function(a){return n.editOrderInfo.nombre_receptor=a}),e.qZA()(),e.TgZ(152,"div",20)(153,"p",2),e._uU(154,"Telefono Receptor"),e.qZA(),e.TgZ(155,"input",44),e.NdJ("ngModelChange",function(a){return n.editOrderInfo.telefono_receptor=a}),e.qZA()()(),e.TgZ(156,"div",14)(157,"p",2),e._uU(158,"Direccion"),e.qZA(),e.TgZ(159,"input",45),e.NdJ("ngModelChange",function(a){return n.editOrderInfo.direccion=a}),e.qZA()(),e.TgZ(160,"div",14)(161,"p",2),e._uU(162,"Mensaje Tarjeta"),e.qZA(),e.TgZ(163,"textarea",46),e.NdJ("ngModelChange",function(a){return n.editOrderInfo.mensaje_tarjeta=a}),e.qZA()(),e.TgZ(164,"div",14)(165,"p",2),e._uU(166,"Comentario"),e.qZA(),e.TgZ(167,"textarea",47),e.NdJ("ngModelChange",function(a){return n.editOrderInfo.comentarios=a}),e.qZA()()(),e.TgZ(168,"div",31)(169,"button",32,33),e._uU(171,"Cerrar"),e.qZA(),e.TgZ(172,"button",34),e._uU(173,"Actualizar Pedido"),e.qZA()()()()(),e.TgZ(174,"div",48)(175,"div",8)(176,"div",49)(177,"div",10)(178,"h1",50),e._uU(179,"Pagos"),e.qZA(),e._UZ(180,"button",12),e.qZA(),e.TgZ(181,"div",13)(182,"table",51)(183,"thead")(184,"tr",4)(185,"th",5),e._uU(186,"Producto"),e.qZA(),e.TgZ(187,"th",5),e._uU(188,"Pedido"),e.qZA(),e.TgZ(189,"th",5),e._uU(190,"Forma de pago"),e.qZA(),e.TgZ(191,"th",5),e._uU(192,"Fecha"),e.qZA(),e.TgZ(193,"th",5),e._uU(194,"Importe"),e.qZA(),e.TgZ(195,"th",5),e._uU(196,"Registro"),e.qZA()()(),e.TgZ(197,"tbody"),e.YNc(198,Ne,12,5,"tr",6),e.qZA()()()()()(),e.TgZ(199,"div",52)(200,"div",8)(201,"form",9),e.NdJ("submit",function(){return n.createPayToOrder()}),e.TgZ(202,"div",10)(203,"h1",53),e._uU(204,"Generar pago"),e.qZA(),e._UZ(205,"button",12),e.qZA(),e.TgZ(206,"div",13)(207,"div",14)(208,"p"),e._uU(209),e.qZA()(),e.TgZ(210,"div",14)(211,"p",2),e._uU(212,"Forma de pago"),e.qZA(),e.TgZ(213,"select",54),e.NdJ("ngModelChange",function(a){return n.formAddPay.forma_de_pago_id=a}),e.YNc(214,we,2,2,"option",16),e.qZA()(),e.TgZ(215,"div",14)(216,"p",2),e._uU(217,"Fecha"),e.qZA(),e.TgZ(218,"input",55),e.NdJ("ngModelChange",function(a){return n.formAddPay.fecha=a}),e.qZA()(),e.TgZ(219,"div",14)(220,"p",2),e._uU(221,"Importe"),e.qZA(),e.TgZ(222,"input",56),e.NdJ("ngModelChange",function(a){return n.formAddPay.importe=a}),e.qZA()()(),e.TgZ(223,"div",31)(224,"button",32),e._uU(225,"Cerrar"),e.qZA(),e.TgZ(226,"button",57),e._uU(227," Generar Pago "),e.qZA()()()()(),e.TgZ(228,"div",58)(229,"div",8)(230,"div",49)(231,"div",10),e._UZ(232,"button",12),e.qZA(),e.TgZ(233,"div",13)(234,"p",2),e._uU(235,"Seleccione una opcion"),e.qZA(),e.TgZ(236,"p"),e._uU(237),e.ALo(238,"json"),e.qZA(),e.TgZ(239,"select",59),e.NdJ("ngModelChange",function(a){return n.editOrderInfo.status=a}),e.TgZ(240,"option",60),e._uU(241,"Por Pagar"),e.qZA(),e.TgZ(242,"option",61),e._uU(243,"Pagado"),e.qZA(),e.TgZ(244,"option",62),e._uU(245,"Por Elaborar"),e.qZA(),e.TgZ(246,"option",63),e._uU(247,"Elaborado"),e.qZA(),e.TgZ(248,"option",64),e._uU(249,"En ruta"),e.qZA()()(),e.TgZ(250,"div",31)(251,"button",32),e._uU(252,"Cerrar"),e.qZA(),e.TgZ(253,"button",65),e.NdJ("click",function(){return n.editOrder()}),e._uU(254," Actualizar "),e.qZA()()()()(),e.TgZ(255,"div",66)(256,"div",8)(257,"div",49)(258,"div",10)(259,"h1",67),e._uU(260,"Eliminar Pedido"),e.qZA(),e._UZ(261,"button",12),e.qZA(),e.TgZ(262,"div",13)(263,"p"),e._uU(264,"Estas seguro de eliminar este Pedido?"),e.qZA()(),e.TgZ(265,"div",31)(266,"button",32),e._uU(267,"Cerrar"),e.qZA(),e.TgZ(268,"button",65),e.NdJ("click",function(){return n.deleteOrder()}),e._uU(269," Eliminar Pedido "),e.qZA()()()()()),2&t&&(e.xp6(4),e.Q6J("dtOptions",n.dtOptions)("dtTrigger",n.dtTrigger),e.xp6(30),e.Q6J("ngForOf",n.orders),e.xp6(12),e.Q6J("ngModel",n.newOrderInfo.cliente_id)("value",n.newOrderInfo.cliente_id),e.xp6(1),e.Q6J("ngForOf",n.clients),e.xp6(4),e.Q6J("ngModel",n.newOrderInfo.fecha_pedido),e.xp6(4),e.Q6J("ngModel",n.newOrderInfo.producto),e.xp6(5),e.Q6J("ngModel",n.newOrderInfo.costo),e.xp6(4),e.Q6J("ngModel",n.newOrderInfo.tipo_entrega)("value",n.newOrderInfo.tipo_entrega),e.xp6(1),e.Q6J("value",0),e.xp6(2),e.Q6J("value",1),e.xp6(6),e.Q6J("ngModel",n.newOrderInfo.fecha_entrega),e.xp6(4),e.Q6J("ngModel",n.newOrderInfo.hora),e.xp6(5),e.Q6J("ngModel",n.newOrderInfo.nombre_receptor),e.xp6(4),e.Q6J("ngModel",n.newOrderInfo.telefono_receptor),e.xp6(3),e.Q6J("ngIf",n.autocomple),e.xp6(4),e.Q6J("ngModel",n.newOrderInfo.mensaje_tarjeta),e.xp6(4),e.Q6J("ngModel",n.newOrderInfo.comentarios),e.xp6(18),e.Q6J("ngModel",n.editOrderInfo.cliente_id)("value",n.editOrderInfo.cliente_id),e.xp6(1),e.Q6J("ngForOf",n.clients),e.xp6(4),e.Q6J("ngModel",n.editOrderInfo.fecha_pedido),e.xp6(4),e.Q6J("ngModel",n.editOrderInfo.producto),e.xp6(5),e.Q6J("ngModel",n.editOrderInfo.costo),e.xp6(4),e.Q6J("ngModel",n.editOrderInfo.tipo_entrega)("value",n.editOrderInfo.tipo_entrega),e.xp6(1),e.Q6J("value",0),e.xp6(2),e.Q6J("value",1),e.xp6(6),e.Q6J("ngModel",n.editOrderInfo.fecha_entrega),e.xp6(4),e.Q6J("ngModel",n.editOrderInfo.hora),e.xp6(5),e.Q6J("ngModel",n.editOrderInfo.nombre_receptor),e.xp6(4),e.Q6J("ngModel",n.editOrderInfo.telefono_receptor),e.xp6(4),e.Q6J("ngModel",n.editOrderInfo.direccion),e.xp6(4),e.Q6J("ngModel",n.editOrderInfo.mensaje_tarjeta),e.xp6(4),e.Q6J("ngModel",n.editOrderInfo.comentarios),e.xp6(31),e.Q6J("ngForOf",n.paymenthsPerId),e.xp6(11),e.Oqu(n.formAddPay.nombre),e.xp6(4),e.Q6J("ngModel",n.formAddPay.forma_de_pago_id)("value",n.formAddPay.forma_de_pago_id),e.xp6(1),e.Q6J("ngForOf",n.payMethods),e.xp6(4),e.Q6J("ngModel",n.formAddPay.fecha),e.xp6(4),e.Q6J("ngModel",n.formAddPay.importe),e.xp6(15),e.Oqu(e.lcZ(238,47,n.editOrderInfo)),e.xp6(2),e.Q6J("ngModel",n.editOrderInfo.status)("value",n.editOrderInfo.status))},dependencies:[u.sg,u.O5,s.YN,s.Kr,s.Fj,s.wV,s.EJ,s.JJ,s.JL,s.Q7,s.On,s.F,m,J,u.Ts],styles:[".table_content_td[_ngcontent-%COMP%]{font-size:10px;padding:1px!important}.btn_cont[_ngcontent-%COMP%]{display:flex;gap:2px}.btn_actions[_ngcontent-%COMP%]{width:40px;font-size:8px;padding:1px 3px!important;border-radius:3px}.more_info[_ngcontent-%COMP%]{max-width:30px}"]}),d})()}]}];let Ee=(()=>{var i;class d{}return(i=d).\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[C.Bz.forChild(Ie),C.Bz]}),d})(),$e=(()=>{var i;class d{}return(i=d).\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({providers:[A,U,P,O,y,x],imports:[u.ez,Ee,s.u5,F]}),d})()}}]);